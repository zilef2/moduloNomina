import{T as j,p as B,m as E,f as _,a,w as f,o as w,b as n,t as i,u as l,g as N,d as y,n as O,e as F}from"./app-ddb55693.js";import{_ as t}from"./InputError-04e9f02b.js";import{_ as d}from"./InputLabel-e6b3bae0.js";import{_ as T,a as z}from"./SecondaryButton-488d114f.js";import{_ as A}from"./PrimaryButton-d3ba9fc0.js";import{_ as c}from"./SelectInput-6e4c448d.js";import{_ as u}from"./TextInput-2d1a6151.js";const D={class:"space-y-6"},M={class:"text-lg font-medium text-gray-900 dark:text-gray-100"},R=n("h3",{class:"text-md font-medium text-gray-900 dark:text-gray-100"}," Recuerde, la contraseña es la cédula de la persona y el símbolo * ",-1),x={class:"my-6 space-y-4"},G={class:"grid grid-cols-2 gap-6"},H={key:0},I={class:""},J={class:""},K={class:"flex justify-end"},ee={__name:"Create",props:{show:Boolean,title:String,roles:Object,cargos:Object,centros:Object,sexoSelect:Object},emits:["close"],setup(k,{emit:S}){var b,V,h;const m=k,p=S,e=j({name:"",email:"",cedula:"",telefono:"",celular:"",fecha_de_ingreso:"",sexo:0,numero_contrato:0,salario:"1160000",role:"empleado",cargo:1,centroid:0}),g=B({mostrarCentro:!1}),U=()=>{let o=!0;return e.centroid===0?(errors.centroid="El supervisor debe tener un centro asociado",o=!1):errors.centroid="",o};E(()=>{m.show&&(e.errors={},e.role==="supervisor"?g.mostrarCentro=!0:g.mostrarCentro=!1)});const C=(b=m.roles)==null?void 0:b.map(o=>({label:o.name.charAt(0).toUpperCase()+o.name.slice(1),value:o.name})),q=(V=m.cargos)==null?void 0:V.map(o=>({label:o.nombre,value:o.id})),$=(h=m.centros)==null?void 0:h.map(o=>({label:o.nombre,value:o.id})),v=()=>{e.role==="supervisor"&&e.centroid===0?U():e.post(route("user.store"),{preserveScroll:!0,onSuccess:()=>{p("close"),e.reset()},onError:()=>null,onFinish:()=>null})};return(o,r)=>(w(),_("section",D,[a(T,{show:m.show,onClose:r[13]||(r[13]=s=>p("close"))},{default:f(()=>[n("form",{class:"p-6",onSubmit:F(v,["prevent"])},[n("h2",M,i(o.lang().label.add)+" "+i(m.title),1),R,n("div",x,[n("div",null,[a(d,{for:"name",value:o.lang().label.name},null,8,["value"]),a(u,{id:"name",type:"text",class:"mt-1 block w-full",modelValue:l(e).name,"onUpdate:modelValue":r[0]||(r[0]=s=>l(e).name=s),required:"",placeholder:o.lang().placeholder.name,error:l(e).errors.name},null,8,["modelValue","placeholder","error"]),a(t,{class:"mt-2",message:l(e).errors.name},null,8,["message"])]),n("div",null,[a(d,{for:"cedula",value:o.lang().label.cedula},null,8,["value"]),a(u,{id:"cedula",type:"text",class:"mt-1 block w-full",modelValue:l(e).cedula,"onUpdate:modelValue":r[1]||(r[1]=s=>l(e).cedula=s),required:"",placeholder:o.lang().placeholder.cedula,error:l(e).errors.cedula},null,8,["modelValue","placeholder","error"]),a(t,{class:"mt-2",message:l(e).errors.cedula},null,8,["message"])]),n("div",null,[a(d,{for:"numero_contrato",value:o.lang().label.numero_contrato},null,8,["value"]),a(u,{id:"numero_contrato",type:"text",class:"mt-1 block w-full",modelValue:l(e).numero_contrato,"onUpdate:modelValue":r[2]||(r[2]=s=>l(e).numero_contrato=s),required:"",placeholder:o.lang().placeholder.numero_contrato,error:l(e).errors.numero_contrato},null,8,["modelValue","placeholder","error"]),a(t,{class:"mt-2",message:l(e).errors.numero_contrato},null,8,["message"])]),n("div",null,[a(d,{for:"email",value:o.lang().label.email},null,8,["value"]),a(u,{id:"email",type:"email",class:"mt-1 block w-full",modelValue:l(e).email,"onUpdate:modelValue":r[3]||(r[3]=s=>l(e).email=s),placeholder:o.lang().placeholder.email,error:l(e).errors.email},null,8,["modelValue","placeholder","error"]),a(t,{class:"mt-2",message:l(e).errors.email},null,8,["message"])]),n("div",G,[n("div",null,[a(d,{for:"role",value:o.lang().label.role},null,8,["value"]),a(c,{id:"role",class:"mt-1 block w-full",required:"",modelValue:l(e).role,"onUpdate:modelValue":r[4]||(r[4]=s=>l(e).role=s),dataSet:l(C)},null,8,["modelValue","dataSet"]),a(t,{class:"mt-2",message:l(e).errors.role},null,8,["message"])]),g.mostrarCentro?(w(),_("div",H,[a(d,{for:"centro",value:o.lang().label.centro},null,8,["value"]),a(c,{id:"centro",class:"mt-1 block w-full",modelValue:l(e).centroid,"onUpdate:modelValue":r[5]||(r[5]=s=>l(e).centroid=s),required:"",dataSet:l($)},null,8,["modelValue","dataSet"]),a(t,{class:"mt-2",message:l(e).errors.centro},null,8,["message"])])):N("",!0),n("div",null,[a(d,{for:"cargo",value:o.lang().label.cargo},null,8,["value"]),a(c,{id:"cargo",class:"mt-1 block w-full",modelValue:l(e).cargo,"onUpdate:modelValue":r[6]||(r[6]=s=>l(e).cargo=s),required:"",dataSet:l(q)},null,8,["modelValue","dataSet"]),a(t,{class:"mt-2",message:l(e).errors.cargo},null,8,["message"])]),n("div",I,[a(d,{for:"telefono",value:o.lang().label.telefono+" (opcional)"},null,8,["value"]),a(u,{id:"telefono",type:"text",class:"mt-1 block w-full",modelValue:l(e).telefono,"onUpdate:modelValue":r[7]||(r[7]=s=>l(e).telefono=s),required:"",placeholder:o.lang().placeholder.telefono,error:l(e).errors.telefono},null,8,["modelValue","placeholder","error"]),a(t,{class:"mt-2",message:l(e).errors.telefono},null,8,["message"])]),n("div",J,[a(d,{for:"celular",value:o.lang().label.celular},null,8,["value"]),a(u,{id:"celular",type:"text",class:"mt-1 block w-full",modelValue:l(e).celular,"onUpdate:modelValue":r[8]||(r[8]=s=>l(e).celular=s),required:"",placeholder:o.lang().placeholder.celular,error:l(e).errors.celular},null,8,["modelValue","placeholder","error"]),a(t,{class:"mt-2",message:l(e).errors.celular},null,8,["message"])]),n("div",null,[a(d,{for:"salario",value:o.lang().label.salario},null,8,["value"]),a(u,{id:"salario",type:"number",class:"mt-1 block w-full",modelValue:l(e).salario,"onUpdate:modelValue":r[9]||(r[9]=s=>l(e).salario=s),required:"",placeholder:o.lang().placeholder.salario,error:l(e).errors.salario},null,8,["modelValue","placeholder","error"]),a(t,{class:"mt-2",message:l(e).errors.salario},null,8,["message"])]),n("div",null,[a(d,{for:"sexo",value:o.lang().label.sexo},null,8,["value"]),a(c,{modelValue:l(e).sexo,"onUpdate:modelValue":r[10]||(r[10]=s=>l(e).sexo=s),dataSet:m.sexoSelect,class:"mt-1 block w-full"},null,8,["modelValue","dataSet"]),a(t,{class:"mt-2",message:l(e).errors.sexo},null,8,["message"])])]),n("div",null,[a(d,{for:"fecha_de_ingreso",value:o.lang().label.fecha_de_ingreso},null,8,["value"]),a(u,{id:"fecha_de_ingreso",type:"date",class:"mt-1 block w-full",modelValue:l(e).fecha_de_ingreso,"onUpdate:modelValue":r[11]||(r[11]=s=>l(e).fecha_de_ingreso=s),required:"",placeholder:o.lang().placeholder.fecha_de_ingreso,error:l(e).errors.fecha_de_ingreso},null,8,["modelValue","placeholder","error"]),a(t,{class:"mt-2",message:l(e).errors.fecha_de_ingreso},null,8,["message"])])]),n("div",K,[a(z,{disabled:l(e).processing,onClick:r[12]||(r[12]=s=>p("close"))},{default:f(()=>[y(i(o.lang().button.close),1)]),_:1},8,["disabled"]),a(A,{class:O(["ml-3",{"opacity-25":l(e).processing}]),disabled:l(e).processing,onClick:v},{default:f(()=>[y(i(l(e).processing?o.lang().button.add+"...":o.lang().button.add),1)]),_:1},8,["class","disabled"])])],32)]),_:1},8,["show"])]))}};export{ee as default};
