import{p as T,J as D,q as U,O as E,f as u,a,u as d,w as m,F as _,s as N,o as n,X as A,b as t,c as f,d as F,t as i,g as w,x as h,y as b,z as S,A as q,h as z}from"./app-e742027d.js";import{_ as J}from"./AuthenticatedLayout-5c8cfc4d.js";import{_ as L}from"./Breadcrumb-57052450.js";import{_ as O}from"./TextInput-343bb860.js";import{_ as X}from"./PrimaryButton-ad344cc8.js";import{_ as G}from"./SelectInput-d935308b.js";import{_ as $}from"./DangerButton-bcf514d3.js";import H from"./Create-39641e8e.js";import K from"./Edit-ccf1c320.js";import M from"./Delete-e2ac39c5.js";import{_ as Q}from"./Pagination-132937ad.js";import{T as V,C as R,E as W,P as Y}from"./index-a7f1545c.js";import{f as Z}from"./global-683f42af.js";import{_ as ee}from"./InfoButton-548ea743.js";import"./InputError-164943d8.js";import"./InputLabel-874d9164.js";import"./SecondaryButton-cdee998c.js";import"./app-57141eb6.js";const te={class:"space-y-4"},se={class:"px-4 sm:px-0"},oe={class:"rounded-lg overflow-hidden w-fit"},re={class:"relative bg-white dark:bg-gray-800 shadow sm:rounded-lg"},ae={class:"flex justify-between p-2"},le={class:"flex space-x-2"},ne={class:"flex gap-2"},ie={class:"overflow-x-auto scrollbar-table"},de={class:"w-full"},pe={class:"uppercase text-sm border-t border-gray-200 dark:border-gray-700"},ce={class:"dark:bg-gray-900 text-left"},ue=["onClick"],me={class:"flex justify-between items-center"},fe={key:0,class:"whitespace-nowrap py-4 px-2 sm:py-3 text-center"},he={class:"flex justify-start items-center"},be={class:"rounded-md overflow-hidden"},ye={class:"whitespace-nowrap py-4 px-2 sm:py-3"},_e={class:"whitespace-nowrap py-4 px-2 sm:py-3"},we={class:"whitespace-nowrap py-4 px-2 sm:py-3"},ve={class:"whitespace-nowrap py-4 px-2 sm:py-3"},Ce={class:"whitespace-nowrap py-4 px-2 sm:py-3"},ge={class:"whitespace-nowrap py-4 px-2 sm:py-3"},ke={class:"flex justify-betwween items-center p-2 border-t border-gray-200 dark:border-gray-700"},Je={__name:"Index",props:{title:String,filters:Object,fromController:Object,breadcrumbs:Object,perPage:Number,nombresTabla:Array,listaSupervisores:Object},setup(p){var v,C,g,k;const l=p,{_:j,debounce:P,pickBy:B}=N,e=T({params:{search:(v=l.filters)==null?void 0:v.search,searchSCC:(C=l.filters)==null?void 0:C.searchSCC,field:(g=l.filters)==null?void 0:g.field,order:(k=l.filters)==null?void 0:k.order,perPage:l.perPage},selectedId:[],multipleSelect:!1,createOpen:!1,editOpen:!1,deleteOpen:!1,deleteBulkOpen:!1,generico:null,dataSet:D().props.app.perpage}),I=o=>{o!==void 0&&(e.params.field=o.replace(/ /g,"_"),e.params.order=e.params.order==="asc"?"desc":"asc")};return U(()=>j.cloneDeep(e.params),P(()=>{let o=B(e.params);E.get(route("CentroCostos.index"),o,{replace:!0,preserveState:!0,preserveScroll:!0})},150)),(o,r)=>{const y=q("tooltip");return n(),u(_,null,[a(d(A),{title:l.title},null,8,["title"]),a(J,null,{default:m(()=>[a(L,{title:p.title,breadcrumbs:p.breadcrumbs},null,8,["title","breadcrumbs"]),t("div",te,[t("div",se,[t("div",oe,[o.can(["create centroCostos"])?(n(),f(X,{key:0,class:"rounded-none",onClick:r[0]||(r[0]=s=>e.createOpen=!0)},{default:m(()=>[F(i(o.lang().button.add),1)]),_:1})):w("",!0),a(H,{show:e.createOpen,onClose:r[1]||(r[1]=s=>e.createOpen=!1),listaSupervisores:l.listaSupervisores,title:l.title},null,8,["show","listaSupervisores","title"]),a(K,{show:e.editOpen,onClose:r[2]||(r[2]=s=>e.editOpen=!1),listaSupervisores:l.listaSupervisores,CentroCosto:e.generico,title:l.title},null,8,["show","listaSupervisores","CentroCosto","title"]),a(M,{show:e.deleteOpen,onClose:r[3]||(r[3]=s=>e.deleteOpen=!1),CentroCosto:e.generico,title:l.title},null,8,["show","CentroCosto","title"])])]),t("div",re,[t("div",ae,[t("div",le,[a(G,{modelValue:e.params.perPage,"onUpdate:modelValue":r[4]||(r[4]=s=>e.params.perPage=s),dataSet:e.dataSet},null,8,["modelValue","dataSet"]),h((n(),f($,{onClick:r[5]||(r[5]=s=>e.deleteBulkOpen=!0),class:"px-3 py-1.5"},{default:m(()=>[a(d(V),{class:"w-5 h-5"})]),_:1})),[[b,e.selectedId.length!=0],[y,o.lang().tooltip.delete_selected]])]),t("div",ne,[a(O,{modelValue:e.params.search,"onUpdate:modelValue":r[6]||(r[6]=s=>e.params.search=s),type:"text",class:"block w-1/2 rounded-lg",placeholder:o.lang().placeholder.searchCC},null,8,["modelValue","placeholder"]),a(O,{modelValue:e.params.searchSCC,"onUpdate:modelValue":r[7]||(r[7]=s=>e.params.searchSCC=s),type:"text",class:"block w-1/2 rounded-lg",placeholder:o.lang().placeholder.searchSupervisorCC},null,8,["modelValue","placeholder"])])]),t("div",ie,[t("table",de,[t("thead",pe,[t("tr",ce,[(n(!0),u(_,null,S(p.nombresTabla[0],(s,c)=>(n(),u("th",{key:c,onClick:x=>I(p.nombresTabla[1][c]),class:"px-2 py-4 cursor-pointer hover:bg-sky-50 dark:hover:bg-sky-800"},[t("div",me,[t("span",null,i(s),1),p.nombresTabla[1][c]?(n(),f(d(R),{key:0,class:"w-4 h-4"})):w("",!0)])],8,ue))),128))])]),t("tbody",null,[(n(!0),u(_,null,S(p.fromController.data,(s,c)=>(n(),u("tr",{key:c,class:"border-t border-gray-200 dark:border-gray-700 hover:bg-gray-200/30 hover:dark:bg-gray-900/20"},[o.can(["update centroCostos"])?(n(),u("td",fe,[t("div",he,[t("div",be,[h((n(),f(d(z),{href:o.route("CentroCostos.show",s),type:"button",class:"inline-flex items-center px-2 py-1.5 bg-gray-600 border border-transparent rounded-none font-semibold text-xs text-white uppercase tracking-widest hover:bg-blue-500 active:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 transition ease-in-out duration-150"},{default:m(()=>[a(d(W),{class:"w-4 h-4"})]),_:2},1032,["href"])),[[b,o.can(["update centroCostos"])],[y,o.lang().tooltip.see]]),h((n(),f(ee,{type:"button",onClick:x=>(e.editOpen=!0,e.generico=s),class:"px-2 py-1.5 rounded-none"},{default:m(()=>[a(d(Y),{class:"w-4 h-4"})]),_:2},1032,["onClick"])),[[b,o.can(["update centroCostos"])],[y,o.lang().tooltip.edit]]),h((n(),f($,{type:"button",onClick:x=>(e.deleteOpen=!0,e.generico=s),class:"px-2 py-1.5 rounded-sm"},{default:m(()=>[a(d(V),{class:"w-4 h-4"})]),_:2},1032,["onClick"])),[[b,o.can(["delete centroCostos"])],[y,o.lang().tooltip.delete]])])])])):w("",!0),t("td",ye,i(c+1),1),t("td",_e,i(s.nombre),1),t("td",we,i(d(Z)(s.mano_obra_estimada)),1),h(t("td",{class:"whitespace-nowrap py-4 px-2 sm:py-3"},i(s.cuantoshijos),513),[[b,o.can(["update centroCostos"])]]),h(t("td",{class:"whitespace-nowrap py-4 px-2 sm:py-3"},"("+i(s.supervi.split(",").length)+") "+i(s.supervi),513),[[b,o.can(["update centroCostos"])]]),t("td",ve,i(s.activo?"✅":"❌"),1),t("td",Ce,i(s.descripcion),1),t("td",ge,i(s.clasificacion),1)]))),128))])])]),t("div",ke,[a(Q,{links:l.fromController,filters:e.params},null,8,["links","filters"])])])])]),_:1})],64)}}};export{Je as default};
