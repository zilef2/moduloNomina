import{p as O,Q as A,q as V,F as T,s as B,f as a,a as p,u,w as y,v as _,x as P,o as r,Z as M,b as o,c as h,d as U,t as c,g as b,A as v,y as g,z as x}from"./app-ddb55693.js";import{_ as z}from"./AuthenticatedLayout-bbcfa1ff.js";import{_ as E}from"./PrimaryButton-d3ba9fc0.js";import{_ as J}from"./SelectInput-6e4c448d.js";import{_ as L}from"./DangerButton-3258e929.js";import{_ as Y}from"./Pagination-82aaf426.js";import{_ as q,r as H}from"./InfoButton-c21af202.js";import{r as I}from"./ChevronUpDownIcon-128bf379.js";import{r as Q}from"./TrashIcon-4f04f97b.js";import{r as Z,a as G}from"./XCircleIcon-b3c97f09.js";import"./index-232c7672.js";const K={class:"space-y-4"},R={class:"px-4 sm:px-0"},W={class:"rounded-lg overflow-hidden w-fit"},X={class:"relative bg-white dark:bg-gray-800 shadow sm:rounded-lg"},N={class:"flex justify-between p-2"},ee={class:"flex space-x-2"},te={class:"overflow-x-auto scrollbar-table"},re={class:"w-full"},se={class:"uppercase text-sm border-t border-gray-200 dark:border-gray-700"},oe={class:"dark:bg-gray-900 text-left"},ae=["onClick"],ne={class:"flex justify-between items-center"},de={key:0,class:"whitespace-nowrap py-4 px-2 sm:py-3 text-center"},ie={class:"flex justify-start items-center"},ce={class:"rounded-md overflow-hidden"},le={class:"whitespace-nowrap py-4 px-2 sm:py-3"},pe={class:"whitespace-nowrap py-4 px-2 sm:py-3"},fe={class:"whitespace-nowrap py-4 px-2 sm:py-3"},ue={key:0,class:""},be={key:0},ye={key:1},_e={key:2},he={key:3},me={key:0},ve={key:1},we={key:2},ke={key:4},ge={key:5},xe={class:"flex justify-betwween items-center p-2 border-t border-gray-200 dark:border-gray-700"},Pe={__name:"Show",props:{title:String,filters:Object,fromController:Object,perPage:Number,nombresTabla:Array,valoresSelect:Object,showSelect:Object,showUsers:Object,IntegerDefectoSelect:Number},setup(l){const{_:$,debounce:S,pickBy:C}=P,m=l,n=O({params:{perPage:m.perPage},generico:null,dataSet:A().props.app.perpage}),j=e=>{e!=null&&(n.params.field=e.replace(/ /g,"_"),n.params.order=n.params.order==="asc"?"desc":"asc")};V(()=>$.cloneDeep(n.params),S(()=>{let e=C(n.params);T.get(route("CentroCostos.show"),e,{replace:!0,preserveState:!0,preserveScroll:!0})},150));function w(e){const i=new Date(e),f=i.getDate().toString().padStart(2,"0"),t=D((i.getMonth()+1).toString().padStart(2,"0"));let d=i.getFullYear();return new Date().getFullYear()==d?`${f}-${t}`:(d=d.toString().slice(-2),`${f}-${t}-${d}`)}function k(e,i,f){if(e+="",e=parseFloat(e.replace(/[^0-9\.]/g,"")),i=i||0,isNaN(e)||e===0)return parseFloat(0).toFixed(i);e=""+e.toFixed(i);for(var t=e.split(" "),d=/(\d+)(\d{3})/;d.test(t[0]);)t[0]=t[0].replace(d,"$1.$2");return f?"$"+t.join(" "):t.join(" ")}function D(e){if(e==1)return"Enero";if(e==2)return"Febrero";if(e==3)return"Marzo";if(e==4)return"Abril";if(e==5)return"Mayo";if(e==6)return"Junio";if(e==7)return"Julio";if(e==8)return"Agosto";if(e==9)return"Septiembre";if(e==10)return"Octubre";if(e==11)return"Noviembre";if(e==12)return"Diciembre"}return(e,i)=>{const f=B("tooltip");return r(),a(_,null,[p(u(M),{title:m.title},null,8,["title"]),p(z,null,{default:y(()=>[o("div",K,[o("div",R,[o("div",W,[e.can(["create centroCostos"])?(r(),h(E,{key:0,class:"rounded-none",onClick:i[0]||(i[0]=t=>n.createOpen=!0)},{default:y(()=>[U(c(e.lang().button.add),1)]),_:1})):b("",!0)])]),o("div",X,[o("div",N,[o("div",ee,[p(J,{modelValue:n.params.perPage,"onUpdate:modelValue":i[1]||(i[1]=t=>n.params.perPage=t),dataSet:n.dataSet},null,8,["modelValue","dataSet"])])]),o("div",te,[o("table",re,[o("thead",se,[o("tr",oe,[(r(!0),a(_,null,v(l.nombresTabla[0],(t,d)=>(r(),a("th",{key:d,onClick:s=>j(l.nombresTabla[1][d]),class:"px-2 py-4 cursor-pointer hover:bg-sky-50 dark:hover:bg-sky-800"},[o("div",ne,[o("span",null,c(t),1),l.nombresTabla[1][d]?(r(),h(u(I),{key:0,class:"w-4 h-4"})):b("",!0)])],8,ae))),128))])]),o("tbody",null,[(r(!0),a(_,null,v(l.fromController.data,(t,d)=>(r(),a("tr",{key:d,class:"border-t border-gray-200 dark:border-gray-700 hover:bg-gray-200/30 hover:dark:bg-gray-900/20"},[e.can(["update centroCostos"])?(r(),a("td",de,[o("div",ie,[o("div",ce,[g((r(),h(q,{type:"button",onClick:s=>(n.editOpen=!0,n.generico=t),class:"px-2 py-1.5 rounded-none"},{default:y(()=>[p(u(H),{class:"w-4 h-4"})]),_:2},1032,["onClick"])),[[x,e.can(["update centroCostos"])],[f,e.lang().tooltip.edit]]),g((r(),h(L,{type:"button",onClick:s=>(n.deleteOpen=!0,n.generico=t),class:"px-2 py-1.5 rounded-none"},{default:y(()=>[p(u(Q),{class:"w-4 h-4"})]),_:2},1032,["onClick"])),[[x,e.can(["delete centroCostos"])],[f,e.lang().tooltip.delete]])])])])):b("",!0),o("td",le,c(d+1),1),o("td",pe,c(l.showSelect[t.centro_costo_id]),1),o("td",fe,c(l.showUsers[t.user_id]),1),(r(!0),a(_,null,v(l.nombresTabla[1],(s,F)=>(r(),a("td",{key:F,class:"whitespace-nowrap py-4 px-2 sm:py-3"},[s!=null?(r(),a("div",ue,[s.substr(0,1)=="s"?(r(),a("div",be,c(t[s.substr(2)]),1)):s.substr(0,1)=="d"?(r(),a("div",ye,c(w(t[s.substr(2)])),1)):s.substr(0,1)=="t"?(r(),a("div",_e,c(w(t[s.substr(2)],"conLaHora")),1)):s.substr(0,1)=="b"?(r(),a("div",he,[t[s.substr(2)]===0?(r(),a("div",me," Aun no validada")):t[s.substr(2)]===1?(r(),a("div",ve,[p(u(Z),{class:"w-8 h-8 text-green-600"})])):t[s.substr(2)]===2?(r(),a("div",we,[p(u(G),{class:"w-8 h-8 text-red-600"})])):b("",!0)])):s.substr(0,1)=="i"?(r(),a("div",ke,c(k(t[s.substr(2)])),1)):s.substr(0,1)=="m"?(r(),a("div",ge,c(k(t[s.substr(2)],0,1)),1)):b("",!0)])):b("",!0)]))),128))]))),128))])])]),o("div",xe,[p(Y,{links:m.fromController,filters:n.params},null,8,["links","filters"])])])])]),_:1})],64)}}};export{Pe as default};
