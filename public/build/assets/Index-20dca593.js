import{p as U,J as E,q as N,O as A,f as i,a as l,u as d,w as m,F as _,s as F,o as r,X as q,b as t,c as f,d as z,t as p,g as w,x as b,y as h,z as C,A as J,h as O}from"./app-7d8a88a1.js";import{_ as L}from"./AuthenticatedLayout-e41c245c.js";import{_ as R}from"./Breadcrumb-a945073b.js";import{_ as $}from"./TextInput-dde56339.js";import{_ as X}from"./PrimaryButton-5eb18248.js";import{_ as G}from"./SelectInput-9858eaa9.js";import{_ as V}from"./DangerButton-a9be7388.js";import H from"./Create-90cb20eb.js";import K from"./Edit-a3641c38.js";import M from"./Delete-db914c56.js";import{_ as Q}from"./Pagination-d051add1.js";import{T as j,C as W,E as Y,D as Z,P as ee}from"./index-af807553.js";import{f as te}from"./global-683f42af.js";import{_ as se}from"./InfoButton-baf869ec.js";import"./InputError-2b936d61.js";import"./InputLabel-5c98cac6.js";import"./SecondaryButton-5abc3bad.js";import"./app-57141eb6.js";const oe={class:"space-y-4"},re={class:"px-4 sm:px-0"},ae={class:"rounded-lg overflow-hidden w-fit"},le={class:"relative bg-white dark:bg-gray-800 shadow sm:rounded-lg"},ne={class:"flex justify-between p-2"},ie={class:"flex space-x-2"},de={class:"flex gap-2"},pe={class:"overflow-x-auto scrollbar-table"},ce={class:"w-full"},ue={class:"uppercase text-sm border-t border-gray-200 dark:border-gray-700"},me={class:"dark:bg-gray-900 text-left"},fe=["onClick"],be={class:"flex justify-between items-center"},he={key:0,class:"whitespace-nowrap py-4 px-2 sm:py-3 text-center"},ye={class:"flex justify-start items-center"},ge={class:"rounded-md overflow-hidden"},_e={class:"whitespace-nowrap py-4 px-2 sm:py-3"},we={class:"whitespace-nowrap py-4 px-2 sm:py-3"},Ce={class:"whitespace-nowrap py-4 px-2 sm:py-3"},ve={class:"whitespace-nowrap py-4 px-2 sm:py-3"},ke={key:0},xe={key:1,class:"border-b-blue-300 border-2"},Se={class:"whitespace-nowrap py-4 px-2 sm:py-3"},Oe={class:"whitespace-nowrap py-4 px-2 sm:py-3"},$e={class:"whitespace-nowrap py-4 px-2 sm:py-3"},Ve={class:"flex justify-betwween items-center p-2 border-t border-gray-200 dark:border-gray-700"},He={__name:"Index",props:{title:String,filters:Object,fromController:Object,breadcrumbs:Object,perPage:Number,nombresTabla:Array,listaSupervisores:Object},setup(c){var v,k,x,S;const n=c,{_:I,debounce:P,pickBy:B}=F,e=U({params:{search:(v=n.filters)==null?void 0:v.search,searchSCC:(k=n.filters)==null?void 0:k.searchSCC,field:(x=n.filters)==null?void 0:x.field,order:(S=n.filters)==null?void 0:S.order,perPage:n.perPage},selectedId:[],multipleSelect:!1,createOpen:!1,editOpen:!1,deleteOpen:!1,deleteBulkOpen:!1,generico:null,dataSet:E().props.app.perpage}),D=o=>{o!==void 0&&(e.params.field=o.replace(/ /g,"_"),e.params.order=e.params.order==="asc"?"desc":"asc")};return N(()=>I.cloneDeep(e.params),P(()=>{let o=B(e.params);A.get(route("CentroCostos.index"),o,{replace:!0,preserveState:!0,preserveScroll:!0})},150)),(o,a)=>{const y=J("tooltip");return r(),i(_,null,[l(d(q),{title:n.title},null,8,["title"]),l(L,null,{default:m(()=>[l(R,{title:c.title,breadcrumbs:c.breadcrumbs},null,8,["title","breadcrumbs"]),t("div",oe,[t("div",re,[t("div",ae,[o.can(["create centroCostos"])?(r(),f(X,{key:0,class:"rounded-none",onClick:a[0]||(a[0]=s=>e.createOpen=!0)},{default:m(()=>[z(p(o.lang().button.add),1)]),_:1})):w("",!0),l(H,{show:e.createOpen,onClose:a[1]||(a[1]=s=>e.createOpen=!1),listaSupervisores:n.listaSupervisores,title:n.title},null,8,["show","listaSupervisores","title"]),l(K,{show:e.editOpen,onClose:a[2]||(a[2]=s=>e.editOpen=!1),listaSupervisores:n.listaSupervisores,CentroCosto:e.generico,title:n.title},null,8,["show","listaSupervisores","CentroCosto","title"]),l(M,{show:e.deleteOpen,onClose:a[3]||(a[3]=s=>e.deleteOpen=!1),CentroCosto:e.generico,title:n.title},null,8,["show","CentroCosto","title"])])]),t("div",le,[t("div",ne,[t("div",ie,[l(G,{modelValue:e.params.perPage,"onUpdate:modelValue":a[4]||(a[4]=s=>e.params.perPage=s),dataSet:e.dataSet},null,8,["modelValue","dataSet"]),b((r(),f(V,{onClick:a[5]||(a[5]=s=>e.deleteBulkOpen=!0),class:"px-3 py-1.5"},{default:m(()=>[l(d(j),{class:"w-5 h-5"})]),_:1})),[[h,e.selectedId.length!=0],[y,o.lang().tooltip.delete_selected]])]),t("div",de,[l($,{modelValue:e.params.search,"onUpdate:modelValue":a[6]||(a[6]=s=>e.params.search=s),type:"text",class:"block w-1/2 rounded-lg",placeholder:o.lang().placeholder.searchCC},null,8,["modelValue","placeholder"]),l($,{modelValue:e.params.searchSCC,"onUpdate:modelValue":a[7]||(a[7]=s=>e.params.searchSCC=s),type:"text",class:"block w-1/2 rounded-lg",placeholder:o.lang().placeholder.searchSupervisorCC},null,8,["modelValue","placeholder"])])]),t("div",pe,[t("table",ce,[t("thead",ue,[t("tr",me,[(r(!0),i(_,null,C(c.nombresTabla[0],(s,u)=>(r(),i("th",{key:u,onClick:g=>D(c.nombresTabla[1][u]),class:"px-2 py-4 cursor-pointer hover:bg-indigo-200/30 dark:hover:bg-sky-800"},[t("div",be,[t("span",null,p(s),1),c.nombresTabla[1][u]?(r(),f(d(W),{key:0,class:"w-4 h-4"})):w("",!0)])],8,fe))),128))])]),t("tbody",null,[(r(!0),i(_,null,C(c.fromController.data,(s,u)=>(r(),i("tr",{key:u,class:"border-t border-gray-200 dark:border-gray-700 hover:bg-indigo-200 hover:dark:bg-gray-900/20"},[o.can(["update centroCostos"])?(r(),i("td",he,[t("div",ye,[t("div",ge,[b((r(),f(d(O),{href:o.route("CentroCostos.show",s),type:"button",class:"inline-flex items-center px-2 py-1.5 bg-gray-600 border border-transparent rounded-none font-semibold text-xs text-white uppercase tracking-widest hover:bg-blue-500 active:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 transition ease-in-out duration-150"},{default:m(()=>[l(d(Y),{class:"w-4 h-4"})]),_:2},1032,["href"])),[[h,o.can(["update centroCostos"])],[y,o.lang().tooltip.see]]),b((r(),f(d(O),{href:o.route("CentroCostos.table",s.id),type:"button",class:"inline-flex items-center px-2 py-1.5 bg-gray-600 border border-transparent rounded-none font-semibold text-xs text-white uppercase tracking-widest hover:bg-blue-500 active:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 transition ease-in-out duration-150"},{default:m(()=>[l(d(Z),{class:"w-4 h-4"})]),_:2},1032,["href"])),[[h,o.can(["update centroCostos"])],[y,o.lang().tooltip.Reporte]]),b((r(),f(se,{type:"button",onClick:g=>(e.editOpen=!0,e.generico=s),class:"px-2 py-1.5 rounded-none"},{default:m(()=>[l(d(ee),{class:"w-4 h-4"})]),_:2},1032,["onClick"])),[[h,o.can(["update centroCostos"])],[y,o.lang().tooltip.edit]]),b((r(),f(V,{type:"button",onClick:g=>(e.deleteOpen=!0,e.generico=s),class:"px-2 py-1.5 rounded-sm"},{default:m(()=>[l(d(j),{class:"w-4 h-4"})]),_:2},1032,["onClick"])),[[h,o.can(["delete centroCostos"])],[y,o.lang().tooltip.delete]])])])])):w("",!0),t("td",_e,p(u+1),1),t("td",we,p(s.nombre),1),t("td",Ce,p(d(te)(s.mano_obra_estimada)),1),b(t("td",{class:"whitespace-nowrap py-4 px-2 sm:py-3"},p(s.cuantoshijos),513),[[h,o.can(["update centroCostos"])]]),b(t("td",ve,[(r(!0),i(_,null,C(s.supervi.split(","),(g,T)=>(r(),i("p",{key:T},[g.trim()?(r(),i("span",ke,p(u+1+" "+g),1)):(r(),i("span",xe,"Sin supervisor"))]))),128))],512),[[h,o.can(["update centroCostos"])]]),t("td",Se,p(s.activo?"✅":"❌"),1),t("td",Oe,p(s.descripcion),1),t("td",$e,p(s.clasificacion),1)]))),128))])])]),t("div",Ve,[l(Q,{links:n.fromController,filters:e.params},null,8,["links","filters"])])])])]),_:1})],64)}}};export{He as default};
