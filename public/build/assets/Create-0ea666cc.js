import{p as x,T as C,m as $,f as p,a as l,w as u,o as f,b as t,t as m,u as a,v as V,A as B,d as _,n as j,e as E,y as N,B as U}from"./app-c790f4bd.js";import{_ as h}from"./InputError-ac81a49a.js";import{_ as d}from"./InputLabel-2a5bfa3f.js";import{_ as A,a as D}from"./SecondaryButton-2843ee84.js";import{_ as F}from"./PrimaryButton-f3c0a7f8.js";import{_ as M}from"./TextInput-987096fc.js";import{_ as T}from"./Checkbox-f0ab4c20.js";const q={class:"space-y-6"},z={class:"text-lg font-medium text-gray-900 dark:text-gray-100"},L={class:"my-6 space-y-4"},O={class:"flex justify-start items-center space-x-2 mt-2"},G={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2 mt-2"},H=["id","value"],I={class:"flex justify-end"},Y={__name:"Create",props:{show:Boolean,title:String,permissions:Object},emits:["close"],setup(v,{emit:y}){const i=v,c=y,n=x({multipleSelect:!1}),e=C({name:"",guard_name:"web",permissions:[]}),g=()=>{e.post(route("role.store"),{preserveScroll:!0,onSuccess:()=>{c("close"),e.reset(),n.multipleSelect=!1},onError:()=>null,onFinish:()=>null})};$(()=>{i.show&&(e.errors={})});const b=r=>{r.target.checked===!1?e.permissions=[]:(e.permissions=[],i.permissions.forEach(s=>{e.permissions.push(s.id)}))},k=()=>{i.permissions.length==e.permissions.length?n.multipleSelect=!0:n.multipleSelect=!1};return(r,s)=>(f(),p("section",q,[l(A,{show:i.show,onClose:s[4]||(s[4]=o=>c("close"))},{default:u(()=>[t("form",{class:"p-6",onSubmit:E(g,["prevent"])},[t("h2",z,m(r.lang().label.add)+" "+m(i.title),1),t("div",L,[t("div",null,[l(d,{for:"name",value:r.lang().label.role},null,8,["value"]),l(M,{id:"name",type:"text",class:"mt-1 block w-full",modelValue:a(e).name,"onUpdate:modelValue":s[0]||(s[0]=o=>a(e).name=o),required:"",placeholder:r.lang().placeholder.name,error:a(e).errors.name},null,8,["modelValue","placeholder","error"]),l(h,{class:"mt-2",message:a(e).errors.name},null,8,["message"])]),t("div",null,[l(d,{value:r.lang().label.permission},null,8,["value"]),l(h,{class:"mt-2",message:a(e).errors.permissions},null,8,["message"]),t("div",O,[l(T,{id:"permission-all",checked:n.multipleSelect,"onUpdate:checked":s[1]||(s[1]=o=>n.multipleSelect=o),onChange:b},null,8,["checked"]),l(d,{for:"permission-all",value:r.lang().label.check_all},null,8,["value"])]),t("div",G,[(f(!0),p(V,null,B(i.permissions,(o,w)=>(f(),p("div",{class:"flex items-center justify-start space-x-2",key:w},[N(t("input",{onChange:k,class:"rounded dark:bg-gray-900 border-gray-300 dark:border-gray-700 text-primary dark:text-primary shadow-sm focus:ring-primary/80 dark:focus:ring-primary dark:focus:ring-offset-gray-800 dark:checked:bg-primary dark:checked:border-primary",type:"checkbox",id:"permission_"+o.id,value:o.id,"onUpdate:modelValue":s[2]||(s[2]=S=>a(e).permissions=S)},null,40,H),[[U,a(e).permissions]]),l(d,{for:"permission_"+o.id,value:o.name},null,8,["for","value"])]))),128))])])]),t("div",I,[l(D,{disabled:a(e).processing,onClick:s[3]||(s[3]=o=>c("close"))},{default:u(()=>[_(m(r.lang().button.close),1)]),_:1},8,["disabled"]),l(F,{class:j(["ml-3",{"opacity-25":a(e).processing}]),disabled:a(e).processing,onClick:g},{default:u(()=>[_(m(a(e).processing?r.lang().button.add+"...":r.lang().button.add),1)]),_:1},8,["class","disabled"])])],32)]),_:1},8,["show"])]))}};export{Y as default};
