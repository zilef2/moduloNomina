import{l as F,J as T,m as P,O as V,f as a,a as p,u,w as y,F as _,p as A,o as s,X as I,b as o,c as h,d as B,t as c,g as b,x as m,y as U,q as g,s as x}from"./app-46106272.js";import{_ as J}from"./AuthenticatedLayout-e2b78f72.js";import{C as M,P as X,T as E,a as L,X as Y}from"./index-eda91085.js";import{_ as q}from"./PrimaryButton-1e750976.js";import{_ as z}from"./SelectInput-26885325.js";import{_ as H}from"./DangerButton-39adbda9.js";import{_ as G}from"./Pagination-153a3b78.js";import{_ as K}from"./InfoButton-dd5798aa.js";const Q={class:"space-y-4"},R={class:"px-4 sm:px-0"},W={class:"rounded-lg overflow-hidden w-fit"},Z={class:"relative bg-white dark:bg-gray-800 shadow sm:rounded-lg"},N={class:"flex justify-between p-2"},ee={class:"flex space-x-2"},te={class:"overflow-x-auto scrollbar-table"},se={class:"w-full"},re={class:"uppercase text-sm border-t border-gray-200 dark:border-gray-700"},oe={class:"dark:bg-gray-900 text-left"},ae=["onClick"],ne={class:"flex justify-between items-center"},de={key:0,class:"whitespace-nowrap py-4 px-2 sm:py-3 text-center"},ie={class:"flex justify-start items-center"},ce={class:"rounded-md overflow-hidden"},le={class:"whitespace-nowrap py-4 px-2 sm:py-3"},pe={class:"whitespace-nowrap py-4 px-2 sm:py-3"},fe={class:"whitespace-nowrap py-4 px-2 sm:py-3"},ue={key:0,class:""},be={key:0},ye={key:1},_e={key:2},he={key:3},ve={key:0},me={key:1},we={key:2},ke={key:4},ge={key:5},xe={class:"flex justify-betwween items-center p-2 border-t border-gray-200 dark:border-gray-700"},Pe={__name:"Show",props:{title:String,filters:Object,fromController:Object,perPage:Number,nombresTabla:Array,valoresSelect:Object,showSelect:Object,showUsers:Object,IntegerDefectoSelect:Number},setup(l){const v=l,{_:C,debounce:S,pickBy:$}=A,n=F({params:{perPage:v.perPage},generico:null,dataSet:T().props.app.perpage}),D=e=>{e!=null&&(n.params.field=e.replace(/ /g,"_"),n.params.order=n.params.order==="asc"?"desc":"asc")};P(()=>C.cloneDeep(n.params),S(()=>{let e=$(n.params);V.get(route("CentroCostos.show"),e,{replace:!0,preserveState:!0,preserveScroll:!0})},150));function w(e){const i=new Date(e),f=i.getDate().toString().padStart(2,"0"),t=j((i.getMonth()+1).toString().padStart(2,"0"));let d=i.getFullYear();return new Date().getFullYear()==d?`${f}-${t}`:(d=d.toString().slice(-2),`${f}-${t}-${d}`)}function k(e,i,f){if(e+="",e=parseFloat(e.replace(/[^0-9\.]/g,"")),i=i||0,isNaN(e)||e===0)return parseFloat(0).toFixed(i);e=""+e.toFixed(i);for(var t=e.split(" "),d=/(\d+)(\d{3})/;d.test(t[0]);)t[0]=t[0].replace(d,"$1.$2");return f?"$"+t.join(" "):t.join(" ")}function j(e){if(e==1)return"Enero";if(e==2)return"Febrero";if(e==3)return"Marzo";if(e==4)return"Abril";if(e==5)return"Mayo";if(e==6)return"Junio";if(e==7)return"Julio";if(e==8)return"Agosto";if(e==9)return"Septiembre";if(e==10)return"Octubre";if(e==11)return"Noviembre";if(e==12)return"Diciembre"}return(e,i)=>{const f=U("tooltip");return s(),a(_,null,[p(u(I),{title:v.title},null,8,["title"]),p(J,null,{default:y(()=>[o("div",Q,[o("div",R,[o("div",W,[e.can(["create centroCostos"])?(s(),h(q,{key:0,class:"rounded-none",onClick:i[0]||(i[0]=t=>n.createOpen=!0)},{default:y(()=>[B(c(e.lang().button.add),1)]),_:1})):b("",!0)])]),o("div",Z,[o("div",N,[o("div",ee,[p(z,{modelValue:n.params.perPage,"onUpdate:modelValue":i[1]||(i[1]=t=>n.params.perPage=t),dataSet:n.dataSet},null,8,["modelValue","dataSet"])])]),o("div",te,[o("table",se,[o("thead",re,[o("tr",oe,[(s(!0),a(_,null,m(l.nombresTabla[0],(t,d)=>(s(),a("th",{key:d,onClick:r=>D(l.nombresTabla[1][d]),class:"px-2 py-4 cursor-pointer hover:bg-sky-50 dark:hover:bg-sky-800"},[o("div",ne,[o("span",null,c(t),1),l.nombresTabla[1][d]?(s(),h(u(M),{key:0,class:"w-4 h-4"})):b("",!0)])],8,ae))),128))])]),o("tbody",null,[(s(!0),a(_,null,m(l.fromController.data,(t,d)=>(s(),a("tr",{key:d,class:"border-t border-gray-200 dark:border-gray-700 hover:bg-gray-200/30 hover:dark:bg-gray-900/20"},[e.can(["update centroCostos"])?(s(),a("td",de,[o("div",ie,[o("div",ce,[g((s(),h(K,{type:"button",onClick:r=>(n.editOpen=!0,n.generico=t),class:"px-2 py-1.5 rounded-none"},{default:y(()=>[p(u(X),{class:"w-4 h-4"})]),_:2},1032,["onClick"])),[[x,e.can(["update centroCostos"])],[f,e.lang().tooltip.edit]]),g((s(),h(H,{type:"button",onClick:r=>(n.deleteOpen=!0,n.generico=t),class:"px-2 py-1.5 rounded-none"},{default:y(()=>[p(u(E),{class:"w-4 h-4"})]),_:2},1032,["onClick"])),[[x,e.can(["delete centroCostos"])],[f,e.lang().tooltip.delete]])])])])):b("",!0),o("td",le,c(d+1),1),o("td",pe,c(l.showSelect[t.centro_costo_id]),1),o("td",fe,c(l.showUsers[t.user_id]),1),(s(!0),a(_,null,m(l.nombresTabla[1],(r,O)=>(s(),a("td",{key:O,class:"whitespace-nowrap py-4 px-2 sm:py-3"},[r!=null?(s(),a("div",ue,[r.substr(0,1)=="s"?(s(),a("div",be,c(t[r.substr(2)]),1)):r.substr(0,1)=="d"?(s(),a("div",ye,c(w(t[r.substr(2)])),1)):r.substr(0,1)=="t"?(s(),a("div",_e,c(w(t[r.substr(2)],"conLaHora")),1)):r.substr(0,1)=="b"?(s(),a("div",he,[t[r.substr(2)]===0?(s(),a("div",ve," Aun no validada")):t[r.substr(2)]===1?(s(),a("div",me,[p(u(L),{class:"w-8 h-8 text-green-600"})])):t[r.substr(2)]===2?(s(),a("div",we,[p(u(Y),{class:"w-8 h-8 text-red-600"})])):b("",!0)])):r.substr(0,1)=="i"?(s(),a("div",ke,c(k(t[r.substr(2)])),1)):r.substr(0,1)=="m"?(s(),a("div",ge,c(k(t[r.substr(2)],0,1)),1)):b("",!0)])):b("",!0)]))),128))]))),128))])])]),o("div",xe,[p(G,{links:v.fromController,filters:n.params},null,8,["links","filters"])])])])]),_:1})],64)}}};export{Pe as default};
