import{p as I,Q as B,q as N,F as D,s as P,f as _,a as o,u as n,w as p,v as w,x as R,o as m,Z as U,b as e,y as u,z as y,i as A,d as v,c as x,t as l,A as F,B as E}from"./app-2d983b98.js";import{_ as T}from"./AuthenticatedLayout-3d49152a.js";import{_ as q}from"./Breadcrumb-aad56bc0.js";import{_ as z}from"./TextInput-c784df26.js";import{_ as L}from"./PrimaryButton-2c6eee38.js";import{_ as M}from"./SelectInput-86e9c2bc.js";import{_ as k}from"./DangerButton-64fc4d84.js";import{_ as Q}from"./Pagination-6484cae8.js";import{n as Z}from"./global-683f42af.js";import G from"./Recontratar-864eea4d.js";import{_ as H}from"./Checkbox-60454667.js";import{r as $}from"./TrophyIcon-e811ec81.js";import{r as c}from"./ChevronUpDownIcon-c168db08.js";import"./index-83047d6d.js";import"./app-57141eb6.js";import"./SecondaryButton-cfa25ebc.js";const J={class:"space-y-4"},K={class:"px-4 sm:px-0"},W={class:"rounded-lg overflow-hidden w-fit gap-8"},X={class:"relative bg-white dark:bg-gray-800 shadow sm:rounded-lg"},Y={class:"flex justify-between p-2"},ee={class:"flex space-x-2"},se={class:"overflow-x-auto scrollbar-table"},te={class:"w-full"},ae={class:"uppercase text-sm border-t border-gray-200 dark:border-gray-700"},re={class:"dark:bg-gray-900/50 text-left"},le={class:"px-2 py-4 text-center"},oe=e("th",{class:"px-2 py-4 text-center"},"#",-1),ne={class:"flex justify-between items-center"},ie={class:"flex justify-between items-center"},de=e("span",null," Identificacion ",-1),ce={class:"flex justify-between items-center"},pe={class:"px-2 py-4"},me={class:"flex justify-between items-center"},ue={class:"flex justify-between items-center"},fe={class:"flex justify-between items-center"},he={class:"flex justify-between items-center"},ye={class:"flex justify-between items-center"},_e={class:"px-2 py-4 cursor-not-allowed"},ge={class:"whitespace-nowrap py-4 px-2 sm:py-3 text-center"},be=["value"],we={class:"whitespace-nowrap py-4 px-2 sm:py-3 text-center"},ve={class:"whitespace-nowrap py-4 px-2 sm:py-3"},xe={class:"flex justify-start items-center"},ke={class:"whitespace-nowrap py-4 px-2 sm:py-3"},$e={class:"whitespace-nowrap py-4 px-2 sm:py-3"},je={class:"whitespace-nowrap py-4 px-2 sm:py-3"},Ce={class:"whitespace-nowrap py-4 px-2 sm:py-3"},Se={class:"whitespace-nowrap py-4 px-2 sm:py-3"},Oe={class:"whitespace-nowrap py-4 px-2 sm:py-3"},Ve={class:"whitespace-nowrap py-4 px-2 sm:py-3"},Ie={class:"whitespace-nowrap py-4 px-2 sm:py-3"},Be={class:"whitespace-nowrap p-4 sm:p-3"},Ne={class:"flex justify-center"},De={class:"rounded-md overflow-hidden"},Pe={class:"flex justify-between items-center p-2 border-t border-gray-200 dark:border-gray-700"},We={__name:"IndeDeleted",props:{title:String,filters:Object,users:Object,roles:Object,cargos:Object,centros:Object,breadcrumbs:Object,perPage:Number},setup(f){const{_:j,debounce:C,pickBy:S}=R,i=f,a=I({params:{search:i.filters.search,field:i.filters.field,order:i.filters.order,perPage:i.perPage,onlySupervis:i.onlySupervis},selectedId:[],multipleSelect:!1,RecontratarOpen:!1,user:null,dataSet:B().props.app.perpage}),d=r=>{a.params.field=r,a.params.order=a.params.order==="asc"?"desc":"asc",console.log(a.params.order),console.log(a.params.field)};N(()=>j.cloneDeep(a.params),C(()=>{let r=S(a.params);console.log("ðŸ§ˆ debu params:",r),D.get(route("IndexTrashed"),r,{replace:!0,preserveState:!0,preserveScroll:!0})},15));const O=r=>{var s;r.target.checked===!1?a.selectedId=[]:(s=i.users)==null||s.data.forEach(h=>{a.selectedId.push(h.id)})},V=()=>{var r;((r=i.users)==null?void 0:r.data.length)==a.selectedId.length?a.multipleSelect=!0:a.multipleSelect=!1};return(r,s)=>{const h=P("tooltip");return m(),_(w,null,[o(n(U),{title:i.title},null,8,["title"]),o(T,null,{default:p(()=>[o(q,{title:f.title,breadcrumbs:f.breadcrumbs},null,8,["title","breadcrumbs"]),e("div",J,[e("div",K,[e("div",W,[u(o(n(A),{href:r.route("user.index"),class:"bg-gray-700/40 dark:bg-gray-800/40 text-white rounded-lg hover:bg-primary dark:hover:bg-primary"},{default:p(()=>[u(o(L,{class:"flex items-center px-4"},{default:p(()=>[v(" Vinculados ")]),_:1},512),[[y,r.can(["create user"])]])]),_:1},8,["href"]),[[y,r.can(["update user"])]]),o(G,{show:a.RecontratarOpen,onClose:s[0]||(s[0]=t=>a.RecontratarOpen=!1),user:a.user,title:i.title},null,8,["show","user","title"])])]),e("div",X,[e("div",Y,[e("div",ee,[o(M,{modelValue:a.params.perPage,"onUpdate:modelValue":s[1]||(s[1]=t=>a.params.perPage=t),dataSet:a.dataSet},null,8,["modelValue","dataSet"]),u((m(),x(k,{onClick:s[2]||(s[2]=t=>a.deleteBulkOpen=!0),class:"px-3 py-1.5"},{default:p(()=>[o(n($),{class:"w-5 h-5"})]),_:1})),[[y,a.selectedId.length!==0&&r.can(["delete user"])],[h,r.lang().tooltip.delete_selected]])]),o(z,{modelValue:a.params.search,"onUpdate:modelValue":s[3]||(s[3]=t=>a.params.search=t),type:"text",class:"block w-3/6 md:w-2/6 lg:w-1/6 rounded-lg",placeholder:"Buscar solo por nombre"},null,8,["modelValue"])]),e("div",se,[e("table",te,[e("thead",ae,[e("tr",re,[e("th",le,[o(H,{checked:a.multipleSelect,"onUpdate:checked":s[4]||(s[4]=t=>a.multipleSelect=t),onChange:O},null,8,["checked"])]),oe,e("th",{class:"px-2 py-4 cursor-pointer",onClick:s[5]||(s[5]=t=>d("name"))},[e("div",ne,[e("span",null,l(r.lang().label.name),1),o(n(c),{class:"w-4 h-4"})])]),e("th",{class:"px-2 py-4 cursor-pointer",onClick:s[6]||(s[6]=t=>d("cedula"))},[e("div",ie,[de,o(n(c),{class:"w-4 h-4"})])]),e("th",{class:"px-2 py-4 cursor-pointer",onClick:s[7]||(s[7]=t=>d("cargo_id"))},[e("div",ce,[e("span",null,l(r.lang().label.cargo),1),o(n(c),{class:"w-4 h-4"})])]),e("th",pe,l(r.lang().label.role),1),e("th",{class:"px-2 py-4 cursor-pointer",onClick:s[8]||(s[8]=t=>d("celular"))},[e("div",me,[e("span",null,l(r.lang().label.celular),1),o(n(c),{class:"w-4 h-4"})])]),e("th",{class:"px-2 py-4 cursor-pointer",onClick:s[9]||(s[9]=t=>d("fecha_de_ingreso"))},[e("div",ue,[e("span",null,l(r.lang().label.fecha_de_ingreso),1),o(n(c),{class:"w-4 h-4"})])]),e("th",{class:"px-2 py-4 cursor-pointer",onClick:s[10]||(s[10]=t=>d("despedido"))},[e("div",fe,[e("span",null,l(r.lang().label.despedido),1),o(n(c),{class:"w-4 h-4"})])]),e("th",{class:"px-2 py-4 cursor-pointer",onClick:s[11]||(s[11]=t=>d("centro_costo_id"))},[e("div",he,[e("span",null,l(r.lang().label.centro_costo),1),o(n(c),{class:"w-4 h-4"})])]),e("th",{class:"px-2 py-4 cursor-pointer",onClick:s[12]||(s[12]=t=>d("salario"))},[e("div",ye,[e("span",null,l(r.lang().label.salario),1),o(n(c),{class:"w-4 h-4"})])]),e("th",_e,l(r.lang().label.Action),1)])]),e("tbody",null,[(m(!0),_(w,null,F(f.users.data,(t,g)=>(m(),_("tr",{key:g,class:"border-t border-gray-200 dark:border-gray-700 hover:bg-gray-200/30 hover:dark:bg-gray-900/20"},[e("td",ge,[u(e("input",{class:"rounded dark:bg-gray-900 border-gray-300 dark:border-gray-700 text-primary dark:text-primary shadow-sm focus:ring-primary/80 dark:focus:ring-primary dark:focus:ring-offset-gray-800 dark:checked:bg-primary dark:checked:border-primary",type:"checkbox",onChange:V,value:t.id,"onUpdate:modelValue":s[13]||(s[13]=b=>a.selectedId=b)},null,40,be),[[E,a.selectedId]])]),e("td",we,l(++g),1),e("td",ve,[e("span",xe,l(t.name),1),e("small",null,l(t.email),1)]),e("td",ke,l(t.cedula),1),e("td",$e,l(t.cargo.length===0?"No tiene cargo":t.cargo.nombre),1),e("td",je,l(t.roles.length===0?"No tiene rol":t.roles[0].name),1),e("td",Ce,[v(l(t.celular)+" ",1),e("span",null,l(t.telefono),1)]),e("td",Se,l(t.fecha_de_ingreso),1),e("td",Oe,l(t.deleted_at),1),e("td",Ve,l(t.cc),1),e("td",Ie,l(n(Z)(t.salario,0,1)),1),e("td",Be,[e("div",Ne,[e("div",De,[u((m(),x(k,{type:"button",onClick:b=>(a.RecontratarOpen=!0,a.user=t),class:"px-2 py-1.5 rounded-none hover:text-sky-400"},{default:p(()=>[o(n($),{class:"w-4 h-4"})]),_:2},1032,["onClick"])),[[y,r.can(["delete user"])],[h,"Recontratar"]])])])])]))),128))])])]),e("div",Pe,[o(Q,{links:i.users,filters:a.params},null,8,["links","filters"])])])])]),_:1})],64)}}};export{We as default};
