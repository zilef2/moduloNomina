import{o as S,f as D,b as f,k as J,p as L,l as X,T as Q,m as W,q as H,a as m,w as I,t as w,u as l,g as v,d as M,n as Z,D as G,e as ee}from"./app-ddb55693.js";import{_ as ae,a as te}from"./SecondaryButton-488d114f.js";import{_ as k}from"./InputError-04e9f02b.js";import{_ as x}from"./InputLabel-e6b3bae0.js";import{_ as se}from"./PrimaryButton-d3ba9fc0.js";import{_ as O}from"./TextInput-2d1a6151.js";import{_ as ne}from"./SelectInput-6e4c448d.js";import{X as C}from"./main-b068a366.js";import{a as re}from"./app-57141eb6.js";import{T as N,w as oe}from"./global-683f42af.js";var ie=Object.defineProperty,le=Object.defineProperties,de=Object.getOwnPropertyDescriptors,$=Object.getOwnPropertySymbols,ue=Object.prototype.hasOwnProperty,ce=Object.prototype.propertyIsEnumerable,B=(e,t,s)=>t in e?ie(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,j=(e,t)=>{for(var s in t||(t={}))ue.call(t,s)&&B(e,s,t[s]);if($)for(var s of $(t))ce.call(t,s)&&B(e,s,t[s]);return e},P=(e,t)=>le(e,de(t));const he={props:{autoscroll:{type:Boolean,default:!0}},watch:{typeAheadPointer(){this.autoscroll&&this.maybeAdjustScroll()},open(e){this.autoscroll&&e&&this.$nextTick(()=>this.maybeAdjustScroll())}},methods:{maybeAdjustScroll(){var e;const t=((e=this.$refs.dropdownMenu)==null?void 0:e.children[this.typeAheadPointer])||!1;if(t){const s=this.getDropdownViewport(),{top:r,bottom:n,height:d}=t.getBoundingClientRect();if(r<s.top)return this.$refs.dropdownMenu.scrollTop=t.offsetTop;if(n>s.bottom)return this.$refs.dropdownMenu.scrollTop=t.offsetTop-(s.height-d)}},getDropdownViewport(){return this.$refs.dropdownMenu?this.$refs.dropdownMenu.getBoundingClientRect():{height:0,top:0,bottom:0}}}},pe={data(){return{typeAheadPointer:-1}},watch:{filteredOptions(){for(let e=0;e<this.filteredOptions.length;e++)if(this.selectable(this.filteredOptions[e])){this.typeAheadPointer=e;break}},open(e){e&&this.typeAheadToLastSelected()},selectedValue(){this.open&&this.typeAheadToLastSelected()}},methods:{typeAheadUp(){for(let e=this.typeAheadPointer-1;e>=0;e--)if(this.selectable(this.filteredOptions[e])){this.typeAheadPointer=e;break}},typeAheadDown(){for(let e=this.typeAheadPointer+1;e<this.filteredOptions.length;e++)if(this.selectable(this.filteredOptions[e])){this.typeAheadPointer=e;break}},typeAheadSelect(){const e=this.filteredOptions[this.typeAheadPointer];e&&this.selectable(e)&&this.select(e)},typeAheadToLastSelected(){this.typeAheadPointer=this.selectedValue.length!==0?this.filteredOptions.indexOf(this.selectedValue[this.selectedValue.length-1]):-1}}},ge={props:{loading:{type:Boolean,default:!1}},data(){return{mutableLoading:!1}},watch:{search(){this.$emit("search",this.search,this.toggleLoading)},loading(e){this.mutableLoading=e}},methods:{toggleLoading(e=null){return e==null?this.mutableLoading=!this.mutableLoading:this.mutableLoading=e}}},z=(e,t)=>{const s=e.__vccOpts||e;for(const[r,n]of t)s[r]=n;return s},me={},_e={xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10"},fe=f("path",{d:"M6.895455 5l2.842897-2.842898c.348864-.348863.348864-.914488 0-1.263636L9.106534.261648c-.348864-.348864-.914489-.348864-1.263636 0L5 3.104545 2.157102.261648c-.348863-.348864-.914488-.348864-1.263636 0L.261648.893466c-.348864.348864-.348864.914489 0 1.263636L3.104545 5 .261648 7.842898c-.348864.348863-.348864.914488 0 1.263636l.631818.631818c.348864.348864.914773.348864 1.263636 0L5 6.895455l2.842898 2.842897c.348863.348864.914772.348864 1.263636 0l.631818-.631818c.348864-.348864.348864-.914489 0-1.263636L6.895455 5z"},null,-1),be=[fe];function ye(e,t){return S(),D("svg",_e,be)}const Se=z(me,[["render",ye]]),De={},ve={xmlns:"http://www.w3.org/2000/svg",width:"14",height:"10"},xe=f("path",{d:"M9.211364 7.59931l4.48338-4.867229c.407008-.441854.407008-1.158247 0-1.60046l-.73712-.80023c-.407008-.441854-1.066904-.441854-1.474243 0L7 5.198617 2.51662.33139c-.407008-.441853-1.066904-.441853-1.474243 0l-.737121.80023c-.407008.441854-.407008 1.158248 0 1.600461l4.48338 4.867228L7 10l2.211364-2.40069z"},null,-1),we=[xe];function Oe(e,t){return S(),D("svg",ve,we)}const Ae=z(De,[["render",Oe]]),R={Deselect:Se,OpenIndicator:Ae},Te={mounted(e,{instance:t}){if(t.appendToBody){const{height:s,top:r,left:n,width:d}=t.$refs.toggle.getBoundingClientRect();let u=window.scrollX||window.pageXOffset,_=window.scrollY||window.pageYOffset;e.unbindPosition=t.calculatePosition(e,t,{width:d+"px",left:u+n+"px",top:_+r+s+"px"}),document.body.appendChild(e)}},unmounted(e,{instance:t}){t.appendToBody&&(e.unbindPosition&&typeof e.unbindPosition=="function"&&e.unbindPosition(),e.parentNode&&e.parentNode.removeChild(e))}};function Ve(e){const t={};return Object.keys(e).sort().forEach(s=>{t[s]=e[s]}),JSON.stringify(t)}let je=0;function He(){return++je}j({},R);function E(e,t,s,r,n){const d=new Date(s).getHours(),u=new Date(r).getHours(),_=new Date(s).getDate(),o=new Date(r).getDate();let g=d>=6?d:6;if(_===o){let a=0;const b=u>=21?21:u;let h=b-g;if(h=h<0?0:h,e.MostrarConsole.dia&&(console.log("BaseFinal",b),console.log("HorasDiurnas",h)),n!==null&&n<21){let y=n-g;y=y<0?0:y,e.MostrarConsole.dia&&(console.log("HorasDiurnas",h),console.log("horasNormales",y)),h>=y?(a=h-y,h=y):(console.log("HorasDiurnas",h),console.log("horasNormales",y))}return e.MostrarConsole.dia&&(console.log("HorasExtra & ordinarias, su suma",a,h,a+h),console.log("CuandoEmpiezaExtra",n)),[a,h]}else{let a=0,b=0;return u<=6?(a=g<=21?21-g:0,n!==null&&n<21&&n>6&&(g<=n,a=n-g,b=21-n)):(d<=21?a=21-d:n!==null?a=n-6:a=d==23?1:0,n!==null&&(n<=6?b=u>6?u-6:0:u>=n?b=u-n:(b=n<=21?21-n:0,b+=u>=6?u-6:0))),e.MostrarConsole.dia&&console.log("üßàüßàüßà DIA HorasExtra & ordinarias",b,a),[b,a]}}function U(e,t,s,r,n){const d=new Date(s).getHours(),u=new Date(r).getHours(),_=new Date(s).getDate(),o=new Date(r).getDate();let g=0,a=0;_===o?(d<6&&u<=6?g=u-d:d<6&&(g=6-d),d>=21&&u>=21?a=u-d:u>21&&(a=u-21,console.log("=>(Create.vue:512) Tarde",a))):(d<6&&u<=6&&d<u?g=u-d:(d<6&&(g=6-d),u<=6?g+=u:g+=6),d>=21&&u>=21?a=u-d:(u>21&&(a+=u-21),d>21?a+=24-d:a+=24-21));let b=g+a;e.MostrarConsole.noche&&(console.log("PRIMERO NOCHE üöÄ"),console.log("Madrugada & tardeüöÄ",g,a+" = "+b),console.log("horasInicioüöÄ",d),console.log("horasFinüöÄ",u));let h=0,y=0;return n===null||typeof n>"u"||n>23?[0,b]:(n>=21?u>=21?(h=u>=n?u-n:0,y=b-h):(h=24-n,h+=g,y=b-h):n<=6?(y=g+a,h=g>=n?g-n:0,e.MostrarConsole.noche&&console.log("‚Äçüò∂‚Äçüå´Ô∏è1 : extra & noche",h,y)):u>21?(h=a,y=g,e.MostrarConsole.noche&&console.log("üò∂‚Äçüå´Ô∏è2  extra  ordinarias",h,y)):_==o?(h=0,y=b,e.MostrarConsole.noche&&console.log("üò∂‚Äçüå´Ô∏è1  extra  ordinarias",h,y)):(y=d<6?6-d:0,h=b-y,e.MostrarConsole.noche&&console.log("imposible üò∂‚Äçüå´Ô∏è0  extra  ordinarias",h,y)),e.MostrarConsole.noche&&(console.log("extraüöÄ",h),console.log("ordinariasüöÄ",y)),[h,y])}function Me(e){let t=8;var s=new Date(e.fecha_ini),r=s.getDay();if(r===6&&t--,e.horas_trabajadas>t){if(e.horas_trabajadas-=1,console.log("(F=>RestarAlm) nocturnas",e.nocturnas),console.log("(F=>RestarAlm) diurnas",e.diurnas),console.log("(F=>RestarAlm) extra_diurnas",e.extra_diurnas),console.log("(F=>RestarAlm) extra_nocturnas",e.extra_nocturnas),e.extra_nocturnas>0&&e.extra_nocturnas>e.extra_diurnas)return e.extra_nocturnas-=1,e.almuerzo=" nocturno",console.log("aqui"),!0;if(e.extra_diurnas>0)return e.extra_diurnas-=1,e.almuerzo=" diurno",console.log("aquiiii2"),!0;if(e.nocturnas>0&&e.nocturnas>e.diurnas)return e.nocturnas-=1,e.almuerzo=" nocturno",console.log("aquiiii3"),!0;if(e.diurnas>0)return e.diurnas-=1,e.almuerzo=" diurno",console.log("aquiiii4"),!0;if(e.dominical_extra_nocturnas>0&&e.dominical_extra_nocturnas>e.dominical_extra_diurnas)return e.dominical_extra_nocturnas-=1,e.almuerzo=" dominical extra nocturno",!0;if(e.dominical_extra_diurnas>0)return e.dominical_extra_diurnas-=1,e.almuerzo=" dominical extra diurno",!0;if(e.dominical_nocturnas>0&&e.dominical_nocturnas>e.dominical_diurnas)return e.dominical_nocturnas-=1,e.almuerzo=" dominical nocturno",!0;if(e.dominical_diurnas>0)return e.dominical_diurnas-=1,e.almuerzo=" dominical",!0}e.almuerzo="No"}function ke(e,t,s,r,n,d,u,_){let o=q(new Date(s),e.MostrarConsole,u),g=q(new Date(r),e.MostrarConsole,u);s.getDay()===0||r.getDay()===0?(t.dominicales="si",_.TextFestivo="Dominical",(o||g)&&(_.TextFestivo+=" y festivo")):o||g?(t.dominicales="si",_.TextFestivo="Festivo"):t.dominicales="no",s.getDay()===0&&r.getDay()===0||o||g?(t.dominical_diurnas=t.diurnas,t.diurnas=0,t.dominical_nocturnas=t.nocturnas,console.log("=>(Create.vue:308) form.nocturnas",t.nocturnas),t.nocturnas=0,t.dominical_extra_diurnas=t.extra_diurnas,t.extra_diurnas=0,t.dominical_extra_nocturnas=t.extra_nocturnas,t.extra_nocturnas=0,console.log("aquiEntra")):((s.getDay()===0||o)&&Fe(r,n,d,t),(r.getDay()===0||g)&&Ie(s,r,n,d,t)),Me(t)}function q(e,t,s){let r,n,d,u,_=!1;const o={};let g=Math.floor(e.getDate()),a=e.getMonth();t.EsFestivo&&(console.log("MonthEvaluado",a),console.log("dayEvaluado",g),console.log("PARAMETER: fecha",e));try{s.getHolidaysByYear(e.getFullYear()).forEach(h=>{if(n=h.date.split("/"),r=new Date(n[2],n[1]-1,n[0]),d=Math.floor(r.getDate()),u=r.getMonth(),d===g&&u===a)throw _=!0,o})}catch(b){if(b!==o)throw b}return _}function Fe(e,t,s,r){let n,d;r.dominical_diurnas=r.diurnas,r.dominical_extra_diurnas=r.extra_diurnas;const u=parseInt(e.getHours());if(u<=6)r.diurnas=0,r.extra_diurnas=0,r.nocturnas===0?(r.dominical_nocturnas=r.nocturnas-u,r.nocturnas=u):(r.dominical_extra_nocturnas=r.extra_nocturnas-u,r.extra_nocturnas=u);else{r.nocturnas===0?(r.dominical_extra_nocturnas=d,r.extra_nocturnas=n):(r.dominical_nocturnas=d,r.nocturnas=n-r.extra_nocturnas);const _=Math.abs(u-6);r.diurnas==0?(r.dominical_extra_diurnas=r.extra_diurnas-_,r.extra_diurnas=_):(r.dominical_diurnas=r.diurnas-_,r.diurnas=_)}}function Ie(e,t,s,r,n){let d,u;const _=parseInt(e.getHours()),o=parseInt(t.getHours());s!==null?s<6?(n.dominical_extra_nocturnas=d-s,n.extra_nocturnas-=n.dominical_extra_nocturnas,n.dominical_nocturnas=s,console.log("form.dominical_nocturnas",n.dominical_nocturnas),n.nocturnas-=s,n.dominical_diurnas=0,n.dominical_extra_diurnas=o>6?o-6:0,n.extra_diurnas-=n.dominical_extra_diurnas):r?(n.dominical_nocturnas=d,n.nocturnas=u,n.dominical_diurnas=s-6,n.dominical_extra_diurnas=o-s,n.diurnas=0,n.extra_diurnas=0):(n.dominical_extra_nocturnas=d,n.extra_nocturnas-=d,n.dominical_nocturnas=0,n.dominical_diurnas=0,o>6&&(n.dominical_extra_diurnas=o-6,n.extra_diurnas-=n.dominical_extra_diurnas)):(n.dominical_nocturnas=d,n.nocturnas-=d,_>=21?(n.dominical_diurnas=parseInt(n.diurnas),n.diurnas=0):(n.diurnas=21-_,n.dominical_diurnas=o>6?o-6:0))}function Le(e,t,s,r,n,d,u,_,o){let g=new Date(r),a=new Date(n),b=!1;e.TemporalDiaAnterior=e.HorasDelDiaAnterior59?e.HorasDelDiaAnterior59:0;let h=d;if((Date.parse(t.fecha_ini)??!1)&&Date.parse(t.fecha_fin)){let A=parseInt(String(new Date(t.fecha_ini).getHours())),V=parseInt(String(new Date(t.fecha_fin).getHours())),i=A;if(h-=e.TrabajadasSemana-1,g.getDay()===6&&(i-=1),e.TrabajadasSemana-1==0&&(h-=e.TrabajadasHooy),h=h<0?0:h,i+=h,i=i<A?A:i,e.MostrarConsole.CuandoEiezaExtra&&(console.log("%cPRIMERO: CuandoEmpiezaExtra","color:red;font-family:system-ui;font-size:1rem;-webkit-text-stroke: 0.5px black;font-weight:bold"),console.log("CuandoEmpiezaExtra",i),console.log("extras?",i<V),console.log("ExtrasPrematuras",h),console.log("SEMANA DEL A√ëO:: HorasDeCadaSemana[props.HorasDeCadaSemana[0]]",s.HorasDeCadaSemana[s.HorasDeCadaSemana[0]]),console.log("data.TrabajadasSemana",e.TrabajadasSemana),console.log("data.TrabajadasHooy",e.TrabajadasHooy),console.log("TemporalDiaAnterior",e.TemporalDiaAnterior),console.log("%cFIN: CuandoEmpiezaExtra","color:blue;font-family:system-ui;font-size:15px;-webkit-text-stroke: 0.5px black;font-weight:bold")),i>=V)e.MostrarConsole.dia&&console.log(i,V),t.almuerzo="No",t.diurnas=Math.abs(E(e,t,t.fecha_ini,t.fecha_fin,i)[1]),t.nocturnas=Math.abs(U(e,t,t.fecha_ini,t.fecha_fin,i)[1]);else{t.almuerzo=t.horas_trabajadas+e.TemporalDiaAnterior>8?1:0,t.almuerzo=t.horas_trabajadas+e.TemporalDiaAnterior>16?2:t.almuerzo,t.almuerzo,t.almuerzo+=" horas",i>=24&&(i=24,b=!0);let p=E(e,t,t.fecha_ini,t.fecha_fin,i);t.extra_diurnas=p[0],t.diurnas=p[1];let T=U(e,t,t.fecha_ini,t.fecha_fin,i);t.extra_nocturnas=T[0],t.nocturnas=T[1]}ke(e,t,g,a,i,b,_,o),e.estado2359&&(t.extra_nocturnas>0?t.extra_nocturnas++:t.dominical_nocturnas>0?t.dominical_nocturnas++:t.dominical_extra_nocturnas>0?t.dominical_extra_nocturnas++:t.nocturnas++)}}const Ce={class:"space-y-6"},Ne={class:"flex space-x-4"},$e={class:"text-lg font-medium text-gray-900 dark:text-gray-100"},Be={class:"text-lg font-medium text-gray-900 dark:text-gray-100"},Pe={class:"text-lg font-medium text-gray-900 dark:text-gray-100"},Re={class:"my-6 grid grid-cols-1 md:grid-cols-2 gap-6"},Ee={class:"mt-4 grid grid-cols-2 gap-6"},Ue={key:0,class:"mt-4 grid grid-cols-2 gap-6"},qe={key:1,class:"grid grid-cols-2 gap-6"},Ke={key:2,class:"grid grid-cols-2 gap-6"},ze={class:"mt-4"},Ye={key:3,class:"mt-4"},Je=f("label",{class:"dark:text-white"},"Horario",-1),Xe={class:"flex justify-end"},Qe={class:"flex justify-end my-3"},We={key:0,class:"mx-2"},Ze={key:1,class:"mx-2"},Ge={key:2,class:"mx-2"},ea={key:3,class:"mx-2 text-red-600 text-lg"},aa={key:4,class:"mx-2 text-amber-700 bg-amber-400/10 rounded-2xl"},ta={key:0},sa={key:5,class:"mx-2 text-amber-700 bg-amber-400/10 rounded-2xl"},na={key:0},ra={key:6,class:"mx-2 text-amber-700 bg-amber-400/10 rounded-2xl"},oa={key:0},K=23,fa={__name:"Create",props:{show:Boolean,title:String,valoresSelect:Object,IntegerDefectoSelect:Number,horasemana:Number,startDateMostrar:String,endDateMostrar:String,numberPermissions:Number,ArrayOrdinarias:Object,horasTrabajadasHoy:Object,HorasDeCadaSemana:Object,ArrayHorasSemanales:Object},emits:["close"],setup(e,{emit:t}){const s=e;let r=J(null);const n=s.ArrayHorasSemanales.HORAS_ORDINARIAS,d=s.ArrayHorasSemanales.MAXIMO_HORAS_SEMANALES-n;let u=0;const _=t,o=L({respuestaSeguro:"",startTime:{hours:7,minutes:0},estado2359:!1,TrabajadasHooy:0,TrabajadasSemana:0,diaini:1,MensajeError:"",MostrarConsole:{watchEffect:!1,CuandoEiezaExtra:!1,dia:!1,noche:!1,extradia:!1,extranoche:!1,dominicales:!1,terminaDomingo:!1,terminaLunes:!1,EsFestivo:!1,MostrarTrabajadaSemana:!1},const:{HORAS_SEMANALES_MENOS_ESTANDAR:s.ArrayHorasSemanales.MAXIMO_HORAS_SEMANALES-s.ArrayHorasSemanales.HORAS_ORDINARIAS},Horas1159:s.ArrayOrdinarias.length>1,diaSelected:0,TemporalDiaAnterior:0}),g=L({TextFestivo:""});X(()=>{o.TrabajadasSemana=s.HorasDeCadaSemana[s.HorasDeCadaSemana[0]]>d?s.HorasDeCadaSemana[s.HorasDeCadaSemana[0]]-d:0,o.TrabajadasSemana=o.TrabajadasSemana>n?n:o.TrabajadasSemana,localStorage.getItem("centroCostoId")&&(a.centro_costo_id=localStorage.getItem("centroCostoId"))});const a=Q({fecha_ini:"",fecha_fin:"",centro_costo_id:s.IntegerDefectoSelect,observaciones:"",horas_trabajadas:"",almuerzo:"0",diurnas:0,nocturnas:0,extra_diurnas:0,extra_nocturnas:0,dominicales:"no",extra:"no",esFestivo:!1,dominical_diurnas:0,dominical_nocturnas:0,dominical_extra_diurnas:0,dominical_extra_nocturnas:0});new Date().getHours();let h=N(7),y=N(16);s.numberPermissions>8?(a.fecha_ini="2024-07-07T00:00",a.fecha_fin="2024-07-07T06:00"):(a.fecha_ini=h,a.fecha_fin=y),W(()=>{if(s.show&&(o.diaSelected&&(o.HorasDelDiaAnterior59=s.ArrayOrdinarias[o.diaSelected],console.log("=>(Create.vue:664) data.diaSelected",o.diaSelected),console.log("=>(Create.vue:664) props.ArrayOrdinarias",s.ArrayOrdinarias)),a.errors={},Date.parse(a.fecha_ini)&&Date.parse(a.fecha_fin))){o.diaini=parseInt(new Date(a.fecha_ini).getDate()),o.TrabajadasHooy=s.horasTrabajadasHoy[o.diaini]??0,o.TrabajadasHooy=parseInt(o.TrabajadasHooy);let c=Date.parse(a.fecha_ini),p=Date.parse(a.fecha_fin),T=oe(new Date(a.fecha_ini));if(o.TrabajadasSemana=s.HorasDeCadaSemana[T]>d?s.HorasDeCadaSemana[T]-d:0,o.TrabajadasSemana=o.TrabajadasSemana>n?n:o.TrabajadasSemana,o.MostrarTrabajadaSemana&&console.log(o.TrabajadasSemana),a.horas_trabajadas=0,a.almuerzo=0,a.diurnas=0,a.nocturnas=0,a.extra_diurnas=0,a.extra_nocturnas=0,a.dominical_diurnas=0,a.dominical_nocturnas=0,a.dominical_extra_diurnas=0,a.dominical_extra_nocturnas=0,a.horas_trabajadas=parseInt((p-c)/(3600*1e3)),o.estado2359&&(a.horas_trabajadas++,a.nocturnas<8&&a.nocturnas>=0?a.nocturnas++:a.extra_nocturnas++),c>p)a.errors.horas_trabajadas="La fecha inicial no debe ser posterior a la final";else if(a.horas_trabajadas>=K)a.errors.horas_trabajadas="Las horas trabajadas son demasiadas",a.horas_trabajadas="0",a.diurnas="0",a.nocturnas="0",a.almuerzo="0";else{const F=new Date(c).getDate(),Y=new Date(p).getDate();F!==Y?(a.errors.horas_trabajadas="Debe realizar dos reportes",a.horas_trabajadas="0",a.diurnas="0",a.nocturnas="0",a.almuerzo="0"):Le(o,a,s,c,p,n,u,re,g)}}}),H(()=>a.centro_costo_id,i=>{localStorage.setItem("centroCostoId",i)}),H(()=>a.diurnas,i=>{o.ordinariasCalculadas=i+a.nocturnas}),H(()=>a.nocturnas,i=>{o.ordinariasCalculadas=i+a.diurnas}),H(()=>a.fecha_ini,i=>{if(i){a.fecha_fin=i;let c=new Date(i.getTime());c.setDate(c.getDate()-1);let p=c.getFullYear(),T=c.getMonth()+1,F=c.getDate();o.diaSelected=p+"-"+T.toString().padStart(2,"0")+"-"+F.toString().padStart(2,"0")}}),H(()=>a.fecha_fin,i=>{let c=new Date(i);c.getHours()+":"+c.getMinutes()==="23:59"?(o.estado2359=!0,o.estado2359&&(a.horas_trabajadas++,a.nocturnas<8&&a.nocturnas>=0?a.nocturnas++:a.extra_nocturnas++)):o.estado2359&&(o.estado2359=!1)});const A=()=>{o.MensajeError="",o.respuestaSeguro=!0,a.horas_trabajadas<=K&&a.horas_trabajadas!==0?Object.keys(a.errors).length===0?(s.numberPermissions<9&&(o.respuestaSeguro=confirm("¬øEst√°s seguro de enviar el formulario?")),o.respuestaSeguro&&(a.almuerzo=u,a.post(route("Reportes.store"),{preserveScroll:!0,onSuccess:()=>{_("close"),a.reset()},onError:()=>{alert(JSON.stringify(a.errors,null,4))},onFinish:()=>{location.reload()}}))):o.MensajeError="Verifique de nuevo":o.MensajeError="Horas invalidas"},V=["Lun","Mar","Mie","Jue","Vie","Sab","Dom"];return(i,c)=>(S(),D("section",Ce,[m(ae,{show:s.show,onClose:c[15]||(c[15]=p=>_("close")),maxWidth:"4xl"},{default:I(()=>[f("form",{onSubmit:ee(A,["prevent"]),class:"p-6 mb-12"},[f("div",Ne,[f("h2",$e,[f("b",null,w(s.title),1)]),f("h2",Be," Horas semana: "+w(s==null?void 0:s.horasemana),1),f("h2",Pe,w(s==null?void 0:s.startDateMostrar)+" - "+w(s==null?void 0:s.endDateMostrar),1)]),f("div",Re,[f("div",null,[m(x,{for:"fecha_ini",value:i.lang().label.fecha_ini},null,8,["value"]),m(l(C),{"start-time":o.startTime,"is-24":!1,"day-names":V,"auto-apply":"","enable-time-picker":!0,id:"fecha_ini",type:"date",class:"mt-1 block w-full",modelValue:l(a).fecha_ini,"onUpdate:modelValue":c[0]||(c[0]=p=>l(a).fecha_ini=p),required:"",placeholder:i.lang().placeholder.fecha_ini,error:l(a).errors.fecha_ini},null,8,["start-time","modelValue","placeholder","error"]),m(k,{class:"mt-2",message:l(a).errors.fecha_ini},null,8,["message"])]),f("div",null,[m(x,{for:"fecha_fin",value:i.lang().label.fecha_fin},null,8,["value"]),m(l(C),{"is-24":!1,"day-names":V,"auto-apply":"",flow:["calendar","time"],"enable-time-picker":!0,teleport:!0,id:"fecha_fin",type:"date",class:"mt-1 block w-full",modelValue:l(a).fecha_fin,"onUpdate:modelValue":c[1]||(c[1]=p=>l(a).fecha_fin=p),required:"",placeholder:i.lang().placeholder.fecha_fin,error:l(a).errors.fecha_fin},null,8,["modelValue","placeholder","error"]),m(k,{class:"mt-2",message:l(a).errors.fecha_fin},null,8,["message"])]),f("div",null,[m(x,{for:"horas_trabajadas",value:i.lang().label.horas_trabajadas},null,8,["value"]),m(O,{id:"horas_trabajadas",type:"number",class:"bg-gray-100 dark:bg-gray-700 mt-1 block w-full",modelValue:l(a).horas_trabajadas,"onUpdate:modelValue":c[2]||(c[2]=p=>l(a).horas_trabajadas=p),disabled:"",placeholder:i.lang().placeholder.horas_trabajadas,error:l(a).errors.horas_trabajadas},null,8,["modelValue","placeholder","error"]),m(k,{class:"bg-gray-100 dark:bg-gray-700 mt-2",message:l(a).errors.horas_trabajadas},null,8,["message"])]),f("div",null,[m(x,{for:"almuerzo",value:i.lang().label.horacomida+" (+9 horas)"},null,8,["value"]),m(O,{id:"almuerzo",type:"text",class:"bg-gray-100 dark:bg-gray-700 mt-1 w-full",modelValue:l(a).almuerzo,"onUpdate:modelValue":c[3]||(c[3]=p=>l(a).almuerzo=p),disabled:"",placeholder:i.lang().placeholder.almuerzo,error:l(a).errors.almuerzo},null,8,["modelValue","placeholder","error"])]),f("div",Ee,[f("div",null,[m(x,{ref_key:"label_diurnas",ref:r,for:"diurnas",value:i.lang().label.diurnas},null,8,["value"]),m(O,{id:"diurnas",type:"number",class:"bg-gray-100 dark:bg-gray-700 mt-1 w-full",modelValue:l(a).diurnas,"onUpdate:modelValue":c[4]||(c[4]=p=>l(a).diurnas=p),disabled:"",placeholder:i.lang().placeholder.diurnas,error:l(a).errors.diurnas},null,8,["modelValue","placeholder","error"])]),f("div",null,[m(x,{ref:"label_nocturnas",for:"nocturnas",value:i.lang().label.nocturnas},null,8,["value"]),m(O,{id:"nocturnas",type:"number",class:"bg-gray-100 dark:bg-gray-700 mt-1 w-full",modelValue:l(a).nocturnas,"onUpdate:modelValue":c[5]||(c[5]=p=>l(a).nocturnas=p),disabled:"",placeholder:i.lang().placeholder.nocturnas,error:l(a).errors.nocturnas},null,8,["modelValue","placeholder","error"])])]),l(a).extra_diurnas||l(a).extra_nocturnas||l(a).dominicales=="si"?(S(),D("div",Ue,[f("div",null,[m(x,{ref:"label_extra_diurnas",for:"extra_diurnas",value:i.lang().label.extra_diurnas},null,8,["value"]),m(O,{id:"extra_diurnas",type:"number",class:"bg-gray-100 dark:bg-gray-700 mt-1 w-full",modelValue:l(a).extra_diurnas,"onUpdate:modelValue":c[6]||(c[6]=p=>l(a).extra_diurnas=p),disabled:"",placeholder:i.lang().placeholder.extra_diurnas,error:l(a).errors.extra_diurnas},null,8,["modelValue","placeholder","error"])]),f("div",null,[m(x,{ref:"label_extra_nocturnas",for:"extra_nocturnas",value:i.lang().label.extra_nocturnas},null,8,["value"]),m(O,{id:"extra_nocturnas",type:"number",class:"bg-gray-100 dark:bg-gray-700 mt-1 w-full",modelValue:l(a).extra_nocturnas,"onUpdate:modelValue":c[7]||(c[7]=p=>l(a).extra_nocturnas=p),disabled:"",placeholder:i.lang().placeholder.extra_nocturnas,error:l(a).errors.extra_nocturnas},null,8,["modelValue","placeholder","error"])])])):v("",!0),l(a).dominicales=="si"?(S(),D("div",qe,[f("div",null,[m(x,{ref_key:"label_diurnas",ref:r,for:"dominical_diurnas",value:i.lang().label.dominical_diurnas},null,8,["value"]),m(O,{id:"dominical_diurnas",type:"number",class:"bg-gray-100 dark:bg-gray-700 mt-1 w-full",modelValue:l(a).dominical_diurnas,"onUpdate:modelValue":c[8]||(c[8]=p=>l(a).dominical_diurnas=p),disabled:"",placeholder:i.lang().placeholder.dominical_diurnas,error:l(a).errors.dominical_diurnas},null,8,["modelValue","placeholder","error"])]),f("div",null,[m(x,{ref:"label_nocturnas",for:"dominical_nocturnas",value:i.lang().label.dominical_nocturnas},null,8,["value"]),m(O,{id:"dominical_nocturnas",type:"number",class:"bg-gray-100 dark:bg-gray-700 mt-1 w-full",modelValue:l(a).dominical_nocturnas,"onUpdate:modelValue":c[9]||(c[9]=p=>l(a).dominical_nocturnas=p),disabled:"",placeholder:i.lang().placeholder.dominical_nocturnas,error:l(a).errors.dominical_nocturnas},null,8,["modelValue","placeholder","error"])])])):v("",!0),l(a).dominicales=="si"?(S(),D("div",Ke,[f("div",null,[m(x,{ref:"label_extra_diurnas",for:"dominical_extra_diurnas",value:i.lang().label.dominical_extra_diurnas},null,8,["value"]),m(O,{id:"dominical_extra_diurnas",type:"number",class:"bg-gray-100 dark:bg-gray-700 mt-1 w-full",modelValue:l(a).dominical_extra_diurnas,"onUpdate:modelValue":c[10]||(c[10]=p=>l(a).dominical_extra_diurnas=p),disabled:"",placeholder:i.lang().placeholder.dominical_extra_diurnas,error:l(a).errors.dominical_extra_diurnas},null,8,["modelValue","placeholder","error"])]),f("div",null,[m(x,{ref:"label_extra_nocturnas",for:"dominical_extra_nocturnas",value:i.lang().label.dominical_extra_nocturnas},null,8,["value"]),m(O,{id:"dominical_extra_nocturnas",type:"number",class:"bg-gray-100 dark:bg-gray-700 mt-1 w-full",modelValue:l(a).dominical_extra_nocturnas,"onUpdate:modelValue":c[11]||(c[11]=p=>l(a).dominical_extra_nocturnas=p),disabled:"",placeholder:i.lang().placeholder.dominical_extra_nocturnas,error:l(a).errors.dominical_extra_nocturnas},null,8,["modelValue","placeholder","error"])])])):v("",!0),f("div",ze,[m(x,{for:"centro_costo_id",value:i.lang().label.centro_costo_id},null,8,["value"]),m(ne,{modelValue:l(a).centro_costo_id,"onUpdate:modelValue":c[12]||(c[12]=p=>l(a).centro_costo_id=p),dataSet:s.valoresSelect,class:"mt-1 block w-full"},null,8,["modelValue","dataSet"]),m(k,{class:"mt-2",message:l(a).errors.centro_costo_id},null,8,["message"])]),l(a).dominicales==="si"?(S(),D("div",Ye,[Je,m(O,{id:"dominicales",type:"text",class:"bg-gray-100 dark:bg-gray-700 block w-full",modelValue:g.TextFestivo,"onUpdate:modelValue":c[13]||(c[13]=p=>g.TextFestivo=p),disabled:""},null,8,["modelValue"])])):v("",!0)]),f("div",Xe,[m(te,{disabled:l(a).processing,onClick:c[14]||(c[14]=p=>_("close"))},{default:I(()=>[M(w(i.lang().button.close),1)]),_:1},8,["disabled"]),m(se,{class:Z(["ml-3",{"opacity-25":l(a).processing}]),disabled:l(a).processing,onMouseup:A,onKeyup:G(A,["enter"])},{default:I(()=>[M(w(l(a).processing?i.lang().button.add+"...":i.lang().button.add),1)]),_:1},8,["class","disabled"])]),f("div",Qe,[s.ArrayOrdinarias[s.ArrayOrdinarias.length]>8?(S(),D("p",We,"Hay pendientes "+w(s.ArrayOrdinarias[s.ArrayOrdinarias.length])+" horas (11:59pm)",1)):v("",!0),s.ArrayOrdinarias[0]>o.const.HORAS_SEMANALES_MENOS_ESTANDAR&&l(a).diurnas+l(a).nocturnas>8?(S(),D("p",Ze,"Horas extra de la semana")):v("",!0),o.HorasDelDiaAnterior59?(S(),D("p",Ge,"Dia anterior (11:59 p.m.)")):v("",!0),o.MensajeError!==""?(S(),D("p",ea,w(o.MensajeError),1)):v("",!0),o.TrabajadasSemana?(S(),D("p",aa,[e.numberPermissions>8?(S(),D("small",ta,w(o.TrabajadasSemana-1),1)):v("",!0),M(" | Se complet√≥ las horas de la semana ")])):v("",!0),o.TrabajadasHooy?(S(),D("p",sa,[e.numberPermissions>8?(S(),D("small",na,w(o.TrabajadasHooy),1)):v("",!0),M(" | Ya hay un reporte hoy ")])):v("",!0),o.TemporalDiaAnterior?(S(),D("p",ra,[e.numberPermissions>8?(S(),D("small",oa,w(o.TemporalDiaAnterior),1)):v("",!0)])):v("",!0)])],32)]),_:1},8,["show"])]))}};export{fa as default};
