import{p as U,v as $,m as j,f as p,a as t,w as f,o as g,b as i,t as c,u as s,x as k,B as w,F as B,z as E,d as v,n as N,e as O,k as x}from"./app-e742027d.js";import{_ as F}from"./InputError-164943d8.js";import{_ as d}from"./InputLabel-874d9164.js";import{_ as z,a as D}from"./SecondaryButton-cdee998c.js";import{_ as M}from"./PrimaryButton-ad344cc8.js";import{_ as b}from"./TextInput-343bb860.js";const J={class:"space-y-6"},L=["onSubmit"],T={class:"text-lg font-medium text-gray-900 dark:text-gray-100"},q={class:"my-6 grid grid-cols-2 gap-6"},A={class:"inline-flex mt-6"},G=["for"],H=["id","value"],I={class:"flex justify-end"},Y={__name:"Edit",props:{show:Boolean,title:String,CentroCosto:Object,listaSupervisores:Object,listaSuSeleccionado:Object},emits:["close"],setup(S,{emit:m}){var y;const r=S,V=U({multipleSelect:!1}),e=$({nombre:"",descripcion:"",clasificacion:"",activo:!0,selectedUsers:[]});j(()=>{var o,l,a,n,u,h;r.show&&(e.errors={},e.nombre=(o=r.CentroCosto)==null?void 0:o.nombre,e.descripcion=(l=r.CentroCosto)==null?void 0:l.descripcion,e.clasificacion=(a=r.CentroCosto)==null?void 0:a.clasificacion,e.activo=(n=r.CentroCosto)==null?void 0:n.activo,e.activo=x(!!((u=r.CentroCosto)!=null&&u.activo)),(h=r.CentroCosto)!=null&&h.cuantoshijos&&(e.selectedUsers=r.CentroCosto.todos))});const _=(y=r.listaSupervisores)==null?void 0:y.map(o=>({label:o.name,value:o.id})),C=()=>{var o;e.put(route("CentroCostos.update",(o=r.CentroCosto)==null?void 0:o.id),{preserveScroll:!0,onSuccess:()=>{m("close"),e.reset(),V.multipleSelect=!1},onError:()=>alert(JSON.stringify(e.errors,null,4)),onFinish:()=>null})};return(o,l)=>(g(),p("section",J,[t(z,{show:r.show,onClose:l[7]||(l[7]=a=>m("close"))},{default:f(()=>[i("form",{class:"p-6",onSubmit:O(C,["prevent"])},[i("h2",T,c(o.lang().label.edit)+" "+c(r.title),1),i("div",q,[i("div",null,[t(d,{ref:"nombre",for:"nombre",value:o.lang().label.name},null,8,["value"]),t(b,{id:"nombre",type:"text",class:"bg-gray-100 dark:bg-gray-700 mt-1 w-full",modelValue:s(e).nombre,"onUpdate:modelValue":l[0]||(l[0]=a=>s(e).nombre=a),placeholder:o.lang().placeholder.diurnas,error:s(e).errors.diurnas},null,8,["modelValue","placeholder","error"])]),i("div",null,[t(d,{ref:"descripcion",for:"descripcion",value:o.lang().label.descripcion},null,8,["value"]),t(b,{id:"descripcion",type:"text",class:"bg-gray-100 dark:bg-gray-700 mt-1 w-full",modelValue:s(e).descripcion,"onUpdate:modelValue":l[1]||(l[1]=a=>s(e).descripcion=a),placeholder:o.lang().placeholder.diurnas,error:s(e).errors.diurnas},null,8,["modelValue","placeholder","error"])]),i("div",null,[t(d,{ref:"clasificacion",for:"clasificacion",value:o.lang().label.clasificacion},null,8,["value"]),t(b,{id:"clasificacion",type:"text",class:"bg-gray-100 dark:bg-gray-700 mt-1 w-full",modelValue:s(e).clasificacion,"onUpdate:modelValue":l[2]||(l[2]=a=>s(e).clasificacion=a),placeholder:o.lang().placeholder.diurnas,error:s(e).errors.diurnas},null,8,["modelValue","placeholder","error"])]),i("div",A,[k(i("input",{onClick:l[3]||(l[3]=(...a)=>o.toggleCheckbox&&o.toggleCheckbox(...a)),"onUpdate:modelValue":l[4]||(l[4]=a=>s(e).activo=a),type:"checkbox",id:"activo",class:"bg-gray-50 dark:bg-gray-600 mt-1 w-8 h-8 p-2 my-auto"},null,512),[[w,s(e).activo]]),t(d,{ref:"activo",for:"activo",value:o.lang().label.activo,class:"mx-3 my-auto"},null,8,["value"])]),i("div",null,[t(d,{for:"users",value:o.lang().label.supervisores},null,8,["value"]),(g(!0),p(B,null,E(s(_),(a,n)=>(g(),p("div",{key:n,class:"mt-1 block w-full"},[i("label",{for:"user"+n},[k(i("input",{type:"checkbox",id:"user"+n,value:a.value,"onUpdate:modelValue":l[5]||(l[5]=u=>s(e).selectedUsers=u)},null,8,H),[[w,s(e).selectedUsers]]),v(" "+c(a.label),1)],8,G)]))),128)),t(F,{class:"mt-2",message:s(e).errors.users},null,8,["message"])])]),i("div",I,[t(D,{disabled:s(e).processing,onClick:l[6]||(l[6]=a=>m("close"))},{default:f(()=>[v(c(o.lang().button.close),1)]),_:1},8,["disabled"]),t(M,{class:N(["ml-3",{"opacity-25":s(e).processing}]),disabled:s(e).processing,onClick:C},{default:f(()=>[v(c(s(e).processing?o.lang().button.save+"...":o.lang().button.save),1)]),_:1},8,["class","disabled"])])],40,L)]),_:1},8,["show"])]))}};export{Y as default};
