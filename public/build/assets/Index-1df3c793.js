import{o as r,f as i,b as t,p as F,Q as I,q as N,F as U,s as Z,a as l,u as d,w as m,v as w,x as H,Z as M,c as f,d as q,t as p,g as _,y as h,z as b,A as v,i as O}from"./app-de7a70b3.js";import{_ as z}from"./AuthenticatedLayout-dec277af.js";import{_ as E}from"./Breadcrumb-5dd26edf.js";import{_ as V}from"./TextInput-ac2cc8a7.js";import{_ as L}from"./PrimaryButton-a4148a76.js";import{_ as Q}from"./SelectInput-4641c978.js";import{_ as j}from"./DangerButton-b22d6912.js";import R from"./Create-e2b8302e.js";import G from"./Edit-c5e82677.js";import J from"./Delete-1f919b79.js";import{_ as K}from"./Pagination-39dfc78d.js";import{f as W}from"./global-683f42af.js";import{_ as X,r as Y}from"./InfoButton-f302025a.js";import{r as B}from"./TrashIcon-04341d4c.js";import{r as ee}from"./ChevronUpDownIcon-3789b9e4.js";import{r as te}from"./EyeIcon-da0ed6d3.js";import"./index-25162522.js";import"./InputError-0eb3fae4.js";import"./InputLabel-2cec5dbc.js";import"./SecondaryButton-95df27fa.js";import"./app-57141eb6.js";function se(c,C){return r(),i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{d:"M5.625 1.5c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0 0 16.5 9h-1.875a1.875 1.875 0 0 1-1.875-1.875V5.25A3.75 3.75 0 0 0 9 1.5H5.625Z"}),t("path",{d:"M12.971 1.816A5.23 5.23 0 0 1 14.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 0 1 3.434 1.279 9.768 9.768 0 0 0-6.963-6.963Z"})])}const oe={class:"space-y-4"},re={class:"px-4 sm:px-0"},ae={class:"rounded-lg overflow-hidden w-fit"},le={class:"relative bg-white dark:bg-gray-800 shadow sm:rounded-lg"},ne={class:"flex justify-between p-2"},ie={class:"flex space-x-2"},de={class:"flex gap-2"},pe={class:"overflow-x-auto scrollbar-table"},ce={class:"w-full"},ue={class:"uppercase text-sm border-t border-gray-200 dark:border-gray-700"},me={class:"dark:bg-gray-900 text-left"},fe=["onClick"],he={class:"flex justify-between items-center"},be={key:0,class:"whitespace-nowrap py-4 px-2 sm:py-3 text-center"},ge={class:"flex justify-start items-center"},ye={class:"rounded-md overflow-hidden"},we={class:"whitespace-nowrap py-4 px-2 sm:py-3"},_e={class:"whitespace-nowrap py-4 px-2 sm:py-3"},ve={class:"whitespace-nowrap py-4 px-2 sm:py-3"},Ce={class:"whitespace-nowrap py-4 px-2 sm:py-3"},ke={key:0},xe={key:1,class:"border-b-blue-300 border-2"},Se={class:"whitespace-nowrap py-4 px-2 sm:py-3"},$e={class:"whitespace-nowrap py-4 px-2 sm:py-3"},Oe={class:"whitespace-nowrap py-4 px-2 sm:py-3"},Ve={class:"flex justify-betwween items-center p-2 border-t border-gray-200 dark:border-gray-700"},Ke={__name:"Index",props:{title:String,filters:Object,fromController:Object,breadcrumbs:Object,perPage:Number,nombresTabla:Array,listaSupervisores:Object},setup(c){var k,x,S,$;const{_:C,debounce:P,pickBy:A}=H,n=c,e=F({params:{search:(k=n.filters)==null?void 0:k.search,searchSCC:(x=n.filters)==null?void 0:x.searchSCC,field:(S=n.filters)==null?void 0:S.field,order:($=n.filters)==null?void 0:$.order,perPage:n.perPage},selectedId:[],multipleSelect:!1,createOpen:!1,editOpen:!1,deleteOpen:!1,deleteBulkOpen:!1,generico:null,dataSet:I().props.app.perpage}),T=o=>{o!==void 0&&(e.params.field=o.replace(/ /g,"_"),e.params.order=e.params.order==="asc"?"desc":"asc")};return N(()=>C.cloneDeep(e.params),P(()=>{let o=A(e.params);U.get(route("CentroCostos.index"),o,{replace:!0,preserveState:!0,preserveScroll:!0})},150)),(o,a)=>{const g=Z("tooltip");return r(),i(w,null,[l(d(M),{title:n.title},null,8,["title"]),l(z,null,{default:m(()=>[l(E,{title:c.title,breadcrumbs:c.breadcrumbs},null,8,["title","breadcrumbs"]),t("div",oe,[t("div",re,[t("div",ae,[o.can(["create centroCostos"])?(r(),f(L,{key:0,class:"rounded-none",onClick:a[0]||(a[0]=s=>e.createOpen=!0)},{default:m(()=>[q(p(o.lang().button.add),1)]),_:1})):_("",!0),l(R,{show:e.createOpen,onClose:a[1]||(a[1]=s=>e.createOpen=!1),listaSupervisores:n.listaSupervisores,title:n.title},null,8,["show","listaSupervisores","title"]),l(G,{show:e.editOpen,onClose:a[2]||(a[2]=s=>e.editOpen=!1),listaSupervisores:n.listaSupervisores,CentroCosto:e.generico,title:n.title},null,8,["show","listaSupervisores","CentroCosto","title"]),l(J,{show:e.deleteOpen,onClose:a[3]||(a[3]=s=>e.deleteOpen=!1),CentroCosto:e.generico,title:n.title},null,8,["show","CentroCosto","title"])])]),t("div",le,[t("div",ne,[t("div",ie,[l(Q,{modelValue:e.params.perPage,"onUpdate:modelValue":a[4]||(a[4]=s=>e.params.perPage=s),dataSet:e.dataSet},null,8,["modelValue","dataSet"]),h((r(),f(j,{onClick:a[5]||(a[5]=s=>e.deleteBulkOpen=!0),class:"px-3 py-1.5"},{default:m(()=>[l(d(B),{class:"w-5 h-5"})]),_:1})),[[b,e.selectedId.length!=0],[g,o.lang().tooltip.delete_selected]])]),t("div",de,[l(V,{modelValue:e.params.search,"onUpdate:modelValue":a[6]||(a[6]=s=>e.params.search=s),type:"text",class:"block w-1/2 rounded-lg",placeholder:o.lang().placeholder.searchCC},null,8,["modelValue","placeholder"]),l(V,{modelValue:e.params.searchSCC,"onUpdate:modelValue":a[7]||(a[7]=s=>e.params.searchSCC=s),type:"text",class:"block w-1/2 rounded-lg",placeholder:o.lang().placeholder.searchSupervisorCC},null,8,["modelValue","placeholder"])])]),t("div",pe,[t("table",ce,[t("thead",ue,[t("tr",me,[(r(!0),i(w,null,v(c.nombresTabla[0],(s,u)=>(r(),i("th",{key:u,onClick:y=>T(c.nombresTabla[1][u]),class:"px-2 py-4 cursor-pointer hover:bg-indigo-200/30 dark:hover:bg-sky-800"},[t("div",he,[t("span",null,p(s),1),c.nombresTabla[1][u]?(r(),f(d(ee),{key:0,class:"w-4 h-4"})):_("",!0)])],8,fe))),128))])]),t("tbody",null,[(r(!0),i(w,null,v(c.fromController.data,(s,u)=>(r(),i("tr",{key:u,class:"border-t border-gray-200 dark:border-gray-700 hover:bg-indigo-200 hover:dark:bg-gray-900/20"},[o.can(["update centroCostos"])?(r(),i("td",be,[t("div",ge,[t("div",ye,[h((r(),f(d(O),{href:o.route("CentroCostos.show",s),type:"button",class:"inline-flex items-center px-2 py-1.5 bg-gray-600 border border-transparent rounded-none font-semibold text-xs text-white uppercase tracking-widest hover:bg-blue-500 active:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 transition ease-in-out duration-150"},{default:m(()=>[l(d(te),{class:"w-4 h-4"})]),_:2},1032,["href"])),[[b,o.can(["update centroCostos"])],[g,o.lang().tooltip.see]]),h((r(),f(d(O),{href:o.route("CentroCostos.table",s.id),type:"button",class:"inline-flex items-center px-2 py-1.5 bg-gray-600 border border-transparent rounded-none font-semibold text-xs text-white uppercase tracking-widest hover:bg-blue-500 active:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 transition ease-in-out duration-150"},{default:m(()=>[l(d(se),{class:"w-4 h-4"})]),_:2},1032,["href"])),[[b,o.can(["update centroCostos"])],[g,o.lang().tooltip.Reporte]]),h((r(),f(X,{type:"button",onClick:y=>(e.editOpen=!0,e.generico=s),class:"px-2 py-1.5 rounded-none"},{default:m(()=>[l(d(Y),{class:"w-4 h-4"})]),_:2},1032,["onClick"])),[[b,o.can(["update centroCostos"])],[g,o.lang().tooltip.edit]]),h((r(),f(j,{type:"button",onClick:y=>(e.deleteOpen=!0,e.generico=s),class:"px-2 py-1.5 rounded-sm"},{default:m(()=>[l(d(B),{class:"w-4 h-4"})]),_:2},1032,["onClick"])),[[b,o.can(["delete centroCostos"])],[g,o.lang().tooltip.delete]])])])])):_("",!0),t("td",we,p(u+1),1),t("td",_e,p(s.nombre),1),t("td",ve,p(d(W)(s.mano_obra_estimada)),1),h(t("td",{class:"whitespace-nowrap py-4 px-2 sm:py-3"},p(s.cuantoshijos),513),[[b,o.can(["update centroCostos"])]]),h(t("td",Ce,[(r(!0),i(w,null,v(s.supervi.split(","),(y,D)=>(r(),i("p",{key:D},[y.trim()?(r(),i("span",ke,p(u+1+" "+y),1)):(r(),i("span",xe,"Sin supervisor"))]))),128))],512),[[b,o.can(["update centroCostos"])]]),t("td",Se,p(s.activo?"✅":"❌"),1),t("td",$e,p(s.descripcion),1),t("td",Oe,p(s.clasificacion),1)]))),128))])])]),t("div",Ve,[l(K,{links:n.fromController,filters:e.params},null,8,["links","filters"])])])])]),_:1})],64)}}};export{Ke as default};
