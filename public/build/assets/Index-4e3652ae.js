import{l as B,J as I,m as T,O as D,f as m,a,u as i,w as u,F as g,p as E,o as l,X as N,b as t,c as f,d as U,t as d,g as _,q as b,s as h,x,y as F,h as q}from"./app-74faa0bb.js";import{_ as A}from"./AuthenticatedLayout-71ad8cc1.js";import{_ as J}from"./Breadcrumb-4c871b6c.js";import{_ as L}from"./TextInput-c1c823a9.js";import{_ as X}from"./PrimaryButton-a92129c8.js";import{_ as z}from"./SelectInput-40303077.js";import{_ as O}from"./DangerButton-09f30be1.js";import G from"./Create-c7ca33bd.js";import H from"./Edit-3f899ec8.js";import K from"./Delete-42cf6b80.js";import{_ as M}from"./Pagination-4c00fd7c.js";import{T as $,C as Q,E as R,P as W}from"./index-79bb51ee.js";import{f as Y}from"./global-683f42af.js";import{_ as Z}from"./InfoButton-a56c370c.js";import"./InputError-815f255c.js";import"./InputLabel-7cdc2767.js";import"./SecondaryButton-a1fedac6.js";import"./app-57141eb6.js";const ee={class:"space-y-4"},te={class:"px-4 sm:px-0"},se={class:"rounded-lg overflow-hidden w-fit"},oe={class:"relative bg-white dark:bg-gray-800 shadow sm:rounded-lg"},re={class:"flex justify-between p-2"},ae={class:"flex space-x-2"},le={class:"overflow-x-auto scrollbar-table"},ne={class:"w-full"},ie={class:"uppercase text-sm border-t border-gray-200 dark:border-gray-700"},de={class:"dark:bg-gray-900 text-left"},pe=["onClick"],ce={class:"flex justify-between items-center"},me={key:0,class:"whitespace-nowrap py-4 px-2 sm:py-3 text-center"},ue={class:"flex justify-start items-center"},fe={class:"rounded-md overflow-hidden"},be={class:"whitespace-nowrap py-4 px-2 sm:py-3"},he={class:"whitespace-nowrap py-4 px-2 sm:py-3"},ye={class:"whitespace-nowrap py-4 px-2 sm:py-3"},ge={class:"flex justify-betwween items-center p-2 border-t border-gray-200 dark:border-gray-700"},Ue={__name:"Index",props:{title:String,filters:Object,fromController:Object,breadcrumbs:Object,perPage:Number,nombresTabla:Array},setup(p){var w,v,C;const n=p,{_:S,debounce:V,pickBy:j}=E,e=B({params:{search:(w=n.filters)==null?void 0:w.search,field:(v=n.filters)==null?void 0:v.field,order:(C=n.filters)==null?void 0:C.order,perPage:n.perPage},selectedId:[],multipleSelect:!1,createOpen:!1,editOpen:!1,deleteOpen:!1,deleteBulkOpen:!1,generico:null,dataSet:I().props.app.perpage}),P=s=>{s!==void 0&&(e.params.field=s.replace(/ /g,"_"),e.params.order=e.params.order==="asc"?"desc":"asc")};return T(()=>S.cloneDeep(e.params),V(()=>{let s=j(e.params);D.get(route("CentroCostos.index"),s,{replace:!0,preserveState:!0,preserveScroll:!0})},150)),(s,r)=>{const y=F("tooltip");return l(),m(g,null,[a(i(N),{title:n.title},null,8,["title"]),a(A,null,{default:u(()=>[a(J,{title:p.title,breadcrumbs:p.breadcrumbs},null,8,["title","breadcrumbs"]),t("div",ee,[t("div",te,[t("div",se,[s.can(["create centroCostos"])?(l(),f(X,{key:0,class:"rounded-none",onClick:r[0]||(r[0]=o=>e.createOpen=!0)},{default:u(()=>[U(d(s.lang().button.add),1)]),_:1})):_("",!0),a(G,{show:e.createOpen,onClose:r[1]||(r[1]=o=>e.createOpen=!1),title:n.title},null,8,["show","title"]),a(H,{show:e.editOpen,onClose:r[2]||(r[2]=o=>e.editOpen=!1),CentroCosto:e.generico,title:n.title},null,8,["show","CentroCosto","title"]),a(K,{show:e.deleteOpen,onClose:r[3]||(r[3]=o=>e.deleteOpen=!1),CentroCosto:e.generico,title:n.title},null,8,["show","CentroCosto","title"])])]),t("div",oe,[t("div",re,[t("div",ae,[a(z,{modelValue:e.params.perPage,"onUpdate:modelValue":r[4]||(r[4]=o=>e.params.perPage=o),dataSet:e.dataSet},null,8,["modelValue","dataSet"]),b((l(),f(O,{onClick:r[5]||(r[5]=o=>e.deleteBulkOpen=!0),class:"px-3 py-1.5"},{default:u(()=>[a(i($),{class:"w-5 h-5"})]),_:1})),[[h,e.selectedId.length!=0],[y,s.lang().tooltip.delete_selected]])]),a(L,{modelValue:e.params.search,"onUpdate:modelValue":r[6]||(r[6]=o=>e.params.search=o),type:"text",class:"block w-3/6 md:w-2/6 lg:w-1/6 rounded-lg",placeholder:s.lang().placeholder.searchCC},null,8,["modelValue","placeholder"])]),t("div",le,[t("table",ne,[t("thead",ie,[t("tr",de,[(l(!0),m(g,null,x(p.nombresTabla[0],(o,c)=>(l(),m("th",{key:c,onClick:k=>P(p.nombresTabla[1][c]),class:"px-2 py-4 cursor-pointer hover:bg-sky-50 dark:hover:bg-sky-800"},[t("div",ce,[t("span",null,d(o),1),p.nombresTabla[1][c]?(l(),f(i(Q),{key:0,class:"w-4 h-4"})):_("",!0)])],8,pe))),128))])]),t("tbody",null,[(l(!0),m(g,null,x(p.fromController.data,(o,c)=>(l(),m("tr",{key:c,class:"border-t border-gray-200 dark:border-gray-700 hover:bg-gray-200/30 hover:dark:bg-gray-900/20"},[s.can(["update centroCostos"])?(l(),m("td",me,[t("div",ue,[t("div",fe,[b((l(),f(i(q),{href:s.route("CentroCostos.show",o),type:"button",class:"inline-flex items-center px-2 py-1.5 bg-gray-600 border border-transparent rounded-none font-semibold text-xs text-white uppercase tracking-widest hover:bg-blue-500 active:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 transition ease-in-out duration-150"},{default:u(()=>[a(i(R),{class:"w-4 h-4"})]),_:2},1032,["href"])),[[h,s.can(["update centroCostos"])],[y,s.lang().tooltip.see]]),b((l(),f(Z,{type:"button",onClick:k=>(e.editOpen=!0,e.generico=o),class:"px-2 py-1.5 rounded-none"},{default:u(()=>[a(i(W),{class:"w-4 h-4"})]),_:2},1032,["onClick"])),[[h,s.can(["update centroCostos"])],[y,s.lang().tooltip.edit]]),b((l(),f(O,{type:"button",onClick:k=>(e.deleteOpen=!0,e.generico=o),class:"px-2 py-1.5 rounded-sm"},{default:u(()=>[a(i($),{class:"w-4 h-4"})]),_:2},1032,["onClick"])),[[h,s.can(["delete centroCostos"])],[y,s.lang().tooltip.delete]])])])])):_("",!0),t("td",be,d(c+1),1),t("td",he,d(o.nombre),1),t("td",ye,d(i(Y)(o.mano_obra_estimada)),1),b(t("td",{class:"whitespace-nowrap py-4 px-2 sm:py-3"},d(o.cuantoshijos),513),[[h,s.can(["update centroCostos"])]]),b(t("td",{class:"whitespace-nowrap py-4 px-2 sm:py-3"},"("+d(o.supervi.split(",").length)+") "+d(o.supervi),513),[[h,s.can(["update centroCostos"])]])]))),128))])])]),t("div",ge,[a(M,{links:n.fromController,filters:e.params},null,8,["links","filters"])])])])]),_:1})],64)}}};export{Ue as default};
