import{p as D,J as U,q as E,O as N,f as d,a,u as p,w as m,F as w,s as A,o as l,X as F,b as t,c as f,d as q,t as i,g as C,x as h,y as b,z as g,A as z,h as J}from"./app-437dd817.js";import{_ as L}from"./AuthenticatedLayout-f475806a.js";import{_ as X}from"./Breadcrumb-0c832bf7.js";import{_ as $}from"./TextInput-3bf86c3b.js";import{_ as G}from"./PrimaryButton-5df207d0.js";import{_ as H}from"./SelectInput-efd26cf7.js";import{_ as V}from"./DangerButton-139c636c.js";import K from"./Create-0e42c687.js";import M from"./Edit-5d561a92.js";import Q from"./Delete-d8902c68.js";import{_ as R}from"./Pagination-d99953bd.js";import{T as j,C as W,E as Y,P as Z}from"./index-4b37ae43.js";import{f as ee}from"./global-683f42af.js";import{_ as te}from"./InfoButton-38d1f057.js";import"./InputError-6712e8fa.js";import"./InputLabel-50ce7875.js";import"./SecondaryButton-85f89ebb.js";import"./app-57141eb6.js";const se={class:"space-y-4"},oe={class:"px-4 sm:px-0"},re={class:"rounded-lg overflow-hidden w-fit"},ae={class:"relative bg-white dark:bg-gray-800 shadow sm:rounded-lg"},le={class:"flex justify-between p-2"},ne={class:"flex space-x-2"},ie={class:"flex gap-2"},de={class:"overflow-x-auto scrollbar-table"},pe={class:"w-full"},ce={class:"uppercase text-sm border-t border-gray-200 dark:border-gray-700"},ue={class:"dark:bg-gray-900 text-left"},me=["onClick"],fe={class:"flex justify-between items-center"},he={key:0,class:"whitespace-nowrap py-4 px-2 sm:py-3 text-center"},be={class:"flex justify-start items-center"},ye={class:"rounded-md overflow-hidden"},_e={class:"whitespace-nowrap py-4 px-2 sm:py-3"},we={class:"whitespace-nowrap py-4 px-2 sm:py-3"},Ce={class:"whitespace-nowrap py-4 px-2 sm:py-3"},ge={class:"whitespace-nowrap py-4 px-2 sm:py-3"},ve={class:"whitespace-nowrap py-4 px-2 sm:py-3"},ke={class:"whitespace-nowrap py-4 px-2 sm:py-3"},xe={class:"whitespace-nowrap py-4 px-2 sm:py-3"},Se={class:"flex justify-betwween items-center p-2 border-t border-gray-200 dark:border-gray-700"},Xe={__name:"Index",props:{title:String,filters:Object,fromController:Object,breadcrumbs:Object,perPage:Number,nombresTabla:Array,listaSupervisores:Object},setup(c){var v,k,x,S;const n=c,{_:P,debounce:B,pickBy:I}=A,e=D({params:{search:(v=n.filters)==null?void 0:v.search,searchSCC:(k=n.filters)==null?void 0:k.searchSCC,field:(x=n.filters)==null?void 0:x.field,order:(S=n.filters)==null?void 0:S.order,perPage:n.perPage},selectedId:[],multipleSelect:!1,createOpen:!1,editOpen:!1,deleteOpen:!1,deleteBulkOpen:!1,generico:null,dataSet:U().props.app.perpage}),T=o=>{o!==void 0&&(e.params.field=o.replace(/ /g,"_"),e.params.order=e.params.order==="asc"?"desc":"asc")};return E(()=>P.cloneDeep(e.params),B(()=>{let o=I(e.params);N.get(route("CentroCostos.index"),o,{replace:!0,preserveState:!0,preserveScroll:!0})},150)),(o,r)=>{const y=z("tooltip");return l(),d(w,null,[a(p(F),{title:n.title},null,8,["title"]),a(L,null,{default:m(()=>[a(X,{title:c.title,breadcrumbs:c.breadcrumbs},null,8,["title","breadcrumbs"]),t("div",se,[t("div",oe,[t("div",re,[o.can(["create centroCostos"])?(l(),f(G,{key:0,class:"rounded-none",onClick:r[0]||(r[0]=s=>e.createOpen=!0)},{default:m(()=>[q(i(o.lang().button.add),1)]),_:1})):C("",!0),a(K,{show:e.createOpen,onClose:r[1]||(r[1]=s=>e.createOpen=!1),listaSupervisores:n.listaSupervisores,title:n.title},null,8,["show","listaSupervisores","title"]),a(M,{show:e.editOpen,onClose:r[2]||(r[2]=s=>e.editOpen=!1),listaSupervisores:n.listaSupervisores,CentroCosto:e.generico,title:n.title},null,8,["show","listaSupervisores","CentroCosto","title"]),a(Q,{show:e.deleteOpen,onClose:r[3]||(r[3]=s=>e.deleteOpen=!1),CentroCosto:e.generico,title:n.title},null,8,["show","CentroCosto","title"])])]),t("div",ae,[t("div",le,[t("div",ne,[a(H,{modelValue:e.params.perPage,"onUpdate:modelValue":r[4]||(r[4]=s=>e.params.perPage=s),dataSet:e.dataSet},null,8,["modelValue","dataSet"]),h((l(),f(V,{onClick:r[5]||(r[5]=s=>e.deleteBulkOpen=!0),class:"px-3 py-1.5"},{default:m(()=>[a(p(j),{class:"w-5 h-5"})]),_:1})),[[b,e.selectedId.length!=0],[y,o.lang().tooltip.delete_selected]])]),t("div",ie,[a($,{modelValue:e.params.search,"onUpdate:modelValue":r[6]||(r[6]=s=>e.params.search=s),type:"text",class:"block w-1/2 rounded-lg",placeholder:o.lang().placeholder.searchCC},null,8,["modelValue","placeholder"]),a($,{modelValue:e.params.searchSCC,"onUpdate:modelValue":r[7]||(r[7]=s=>e.params.searchSCC=s),type:"text",class:"block w-1/2 rounded-lg",placeholder:o.lang().placeholder.searchSupervisorCC},null,8,["modelValue","placeholder"])])]),t("div",de,[t("table",pe,[t("thead",ce,[t("tr",ue,[(l(!0),d(w,null,g(c.nombresTabla[0],(s,u)=>(l(),d("th",{key:u,onClick:_=>T(c.nombresTabla[1][u]),class:"px-2 py-4 cursor-pointer hover:bg-sky-50 dark:hover:bg-sky-800"},[t("div",fe,[t("span",null,i(s),1),c.nombresTabla[1][u]?(l(),f(p(W),{key:0,class:"w-4 h-4"})):C("",!0)])],8,me))),128))])]),t("tbody",null,[(l(!0),d(w,null,g(c.fromController.data,(s,u)=>(l(),d("tr",{key:u,class:"border-t border-gray-200 dark:border-gray-700 hover:bg-gray-200/30 hover:dark:bg-gray-900/20"},[o.can(["update centroCostos"])?(l(),d("td",he,[t("div",be,[t("div",ye,[h((l(),f(p(J),{href:o.route("CentroCostos.show",s),type:"button",class:"inline-flex items-center px-2 py-1.5 bg-gray-600 border border-transparent rounded-none font-semibold text-xs text-white uppercase tracking-widest hover:bg-blue-500 active:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 transition ease-in-out duration-150"},{default:m(()=>[a(p(Y),{class:"w-4 h-4"})]),_:2},1032,["href"])),[[b,o.can(["update centroCostos"])],[y,o.lang().tooltip.see]]),h((l(),f(te,{type:"button",onClick:_=>(e.editOpen=!0,e.generico=s),class:"px-2 py-1.5 rounded-none"},{default:m(()=>[a(p(Z),{class:"w-4 h-4"})]),_:2},1032,["onClick"])),[[b,o.can(["update centroCostos"])],[y,o.lang().tooltip.edit]]),h((l(),f(V,{type:"button",onClick:_=>(e.deleteOpen=!0,e.generico=s),class:"px-2 py-1.5 rounded-sm"},{default:m(()=>[a(p(j),{class:"w-4 h-4"})]),_:2},1032,["onClick"])),[[b,o.can(["delete centroCostos"])],[y,o.lang().tooltip.delete]])])])])):C("",!0),t("td",_e,i(u+1),1),t("td",we,i(s.nombre),1),t("td",Ce,i(p(ee)(s.mano_obra_estimada)),1),h(t("td",{class:"whitespace-nowrap py-4 px-2 sm:py-3"},i(s.cuantoshijos),513),[[b,o.can(["update centroCostos"])]]),h(t("td",ge,[(l(!0),d(w,null,g(s.supervi.split(","),(_,O)=>(l(),d("p",{key:O},i(O+1)+" "+i(_),1))),128))],512),[[b,o.can(["update centroCostos"])]]),t("td",ve,i(s.activo?"✅":"❌"),1),t("td",ke,i(s.descripcion),1),t("td",xe,i(s.clasificacion),1)]))),128))])])]),t("div",Se,[a(R,{links:n.fromController,filters:e.params},null,8,["links","filters"])])])])]),_:1})],64)}}};export{Xe as default};
