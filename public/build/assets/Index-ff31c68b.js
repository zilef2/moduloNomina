import{l as P,J as T,m as V,O as D,f as c,a,u as d,w as u,F as y,p as E,o as n,X as N,b as t,c as m,d as F,t as f,g as _,q as b,s as h,x,y as U,h as q}from"./app-6ac411c7.js";import{_ as A}from"./AuthenticatedLayout-8974f681.js";import{_ as J}from"./Breadcrumb-6c3162af.js";import{_ as L}from"./PrimaryButton-8de5fca9.js";import{_ as X}from"./SelectInput-6bca3b72.js";import{_ as O}from"./DangerButton-783a6bdb.js";import z from"./Create-a0e8b0f4.js";import G from"./Edit-6fdda464.js";import H from"./Delete-a1335297.js";import{_ as K}from"./Pagination-5ae704eb.js";import{T as $,C as M,E as Q,P as R}from"./index-f32b2002.js";import{_ as W}from"./InfoButton-e2370bda.js";import"./InputError-3cbdf420.js";import"./TextInput-b199efac.js";import"./SecondaryButton-6eb1d3d9.js";const Y={class:"space-y-4"},Z={class:"px-4 sm:px-0"},ee={class:"rounded-lg overflow-hidden w-fit"},te={class:"relative bg-white dark:bg-gray-800 shadow sm:rounded-lg"},se={class:"flex justify-between p-2"},oe={class:"flex space-x-2"},re={class:"overflow-x-auto scrollbar-table"},ae={class:"w-full"},ne={class:"uppercase text-sm border-t border-gray-200 dark:border-gray-700"},le={class:"dark:bg-gray-900 text-left"},ie=["onClick"],de={class:"flex justify-between items-center"},pe={key:0,class:"whitespace-nowrap py-4 px-2 sm:py-3 text-center"},ce={class:"flex justify-start items-center"},ue={class:"rounded-md overflow-hidden"},me={class:"whitespace-nowrap py-4 px-2 sm:py-3"},fe={class:"whitespace-nowrap py-4 px-2 sm:py-3"},be={class:"flex justify-betwween items-center p-2 border-t border-gray-200 dark:border-gray-700"},Pe={__name:"Index",props:{title:String,filters:Object,fromController:Object,breadcrumbs:Object,perPage:Number,nombresTabla:Array},setup(i){var w,v,C;const l=i,{_:S,debounce:j,pickBy:B}=E,e=P({params:{search:(w=l.filters)==null?void 0:w.search,field:(v=l.filters)==null?void 0:v.field,order:(C=l.filters)==null?void 0:C.order,perPage:l.perPage},selectedId:[],multipleSelect:!1,createOpen:!1,editOpen:!1,deleteOpen:!1,deleteBulkOpen:!1,generico:null,dataSet:T().props.app.perpage}),I=s=>{s!=null&&(e.params.field=s.replace(/ /g,"_"),e.params.order=e.params.order==="asc"?"desc":"asc")};return V(()=>S.cloneDeep(e.params),j(()=>{let s=B(e.params);D.get(route("CentroCostos.index"),s,{replace:!0,preserveState:!0,preserveScroll:!0})},150)),(s,r)=>{const g=U("tooltip");return n(),c(y,null,[a(d(N),{title:l.title},null,8,["title"]),a(A,null,{default:u(()=>[a(J,{title:i.title,breadcrumbs:i.breadcrumbs},null,8,["title","breadcrumbs"]),t("div",Y,[t("div",Z,[t("div",ee,[s.can(["create centroCostos"])?(n(),m(L,{key:0,class:"rounded-none",onClick:r[0]||(r[0]=o=>e.createOpen=!0)},{default:u(()=>[F(f(s.lang().button.add),1)]),_:1})):_("",!0),a(z,{show:e.createOpen,onClose:r[1]||(r[1]=o=>e.createOpen=!1),title:l.title},null,8,["show","title"]),a(G,{show:e.editOpen,onClose:r[2]||(r[2]=o=>e.editOpen=!1),CentroCosto:e.generico,title:l.title},null,8,["show","CentroCosto","title"]),a(H,{show:e.deleteOpen,onClose:r[3]||(r[3]=o=>e.deleteOpen=!1),CentroCosto:e.generico,title:l.title},null,8,["show","CentroCosto","title"])])]),t("div",te,[t("div",se,[t("div",oe,[a(X,{modelValue:e.params.perPage,"onUpdate:modelValue":r[4]||(r[4]=o=>e.params.perPage=o),dataSet:e.dataSet},null,8,["modelValue","dataSet"]),b((n(),m(O,{onClick:r[5]||(r[5]=o=>e.deleteBulkOpen=!0),class:"px-3 py-1.5"},{default:u(()=>[a(d($),{class:"w-5 h-5"})]),_:1})),[[h,e.selectedId.length!=0],[g,s.lang().tooltip.delete_selected]])])]),t("div",re,[t("table",ae,[t("thead",ne,[t("tr",le,[(n(!0),c(y,null,x(i.nombresTabla[0],(o,p)=>(n(),c("th",{key:p,onClick:k=>I(i.nombresTabla[1][p]),class:"px-2 py-4 cursor-pointer hover:bg-sky-50 dark:hover:bg-sky-800"},[t("div",de,[t("span",null,f(o),1),i.nombresTabla[1][p]?(n(),m(d(M),{key:0,class:"w-4 h-4"})):_("",!0)])],8,ie))),128))])]),t("tbody",null,[(n(!0),c(y,null,x(i.fromController.data,(o,p)=>(n(),c("tr",{key:p,class:"border-t border-gray-200 dark:border-gray-700 hover:bg-gray-200/30 hover:dark:bg-gray-900/20"},[s.can(["update centroCostos"])?(n(),c("td",pe,[t("div",ce,[t("div",ue,[b((n(),m(d(q),{href:s.route("CentroCostos.show",o),type:"button",class:"inline-flex items-center px-2 py-1.5 bg-gray-600 border border-transparent rounded-none font-semibold text-xs text-white uppercase tracking-widest hover:bg-blue-500 active:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 transition ease-in-out duration-150"},{default:u(()=>[a(d(Q),{class:"w-4 h-4"})]),_:2},1032,["href"])),[[h,s.can(["update centroCostos"])],[g,s.lang().tooltip.see]]),b((n(),m(W,{type:"button",onClick:k=>(e.editOpen=!0,e.generico=o),class:"px-2 py-1.5 rounded-none"},{default:u(()=>[a(d(R),{class:"w-4 h-4"})]),_:2},1032,["onClick"])),[[h,s.can(["update centroCostos"])],[g,s.lang().tooltip.edit]]),b((n(),m(O,{type:"button",onClick:k=>(e.deleteOpen=!0,e.generico=o),class:"px-2 py-1.5 rounded-sm"},{default:u(()=>[a(d($),{class:"w-4 h-4"})]),_:2},1032,["onClick"])),[[h,s.can(["delete centroCostos"])],[g,s.lang().tooltip.delete]])])])])):_("",!0),t("td",me,f(p+1),1),t("td",fe,f(o.nombre),1),b(t("td",{class:"whitespace-nowrap py-4 px-2 sm:py-3"},f(o.cuantoshijos),513),[[h,s.can(["update centroCostos"])]]),b(t("td",{class:"whitespace-nowrap py-4 px-2 sm:py-3"},f(o.supervi.name),513),[[h,s.can(["update centroCostos"])]])]))),128))])])]),t("div",be,[a(K,{links:l.fromController,filters:e.params},null,8,["links","filters"])])])])]),_:1})],64)}}};export{Pe as default};
